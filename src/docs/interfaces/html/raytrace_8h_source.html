<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>interfaces: public/raytrace.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">interfaces
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('raytrace_8h_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">raytrace.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="raytrace_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//========= Copyright Valve Corporation, All rights reserved. ============//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// $Id:$</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#ifndef RAYTRACE_H</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#define RAYTRACE_H</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="platform_8h.html">tier0/platform.h</a>&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="vector_8h.html">mathlib/vector.h</a>&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ssemath_8h.html">mathlib/ssemath.h</a>&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="lightdesc_8h.html">mathlib/lightdesc.h</a>&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;assert.h&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="utlvector_8h.html">tier1/utlvector.h</a>&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="mathlib_8h.html">mathlib/mathlib.h</a>&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="bspfile_8h.html">bspfile.h</a>&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// fast SSE-ONLY ray tracing module. Based upon various &quot;real time ray tracing&quot; research.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//#define DEBUG_RAYTRACE 1</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="class_four_rays.html">   19</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_four_rays.html">FourRays</a></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_four_rays.html#aae6345937c1d0c76000ff774f6d7c59e">   22</a></span>&#160;    <a class="code" href="class_four_vectors.html">FourVectors</a> <a class="code" href="class_four_rays.html#aae6345937c1d0c76000ff774f6d7c59e">origin</a>;</div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="class_four_rays.html#a4a961c12cb7b9b944e1d19a6470b39f0">   23</a></span>&#160;    <a class="code" href="class_four_vectors.html">FourVectors</a> <a class="code" href="class_four_rays.html#a4a961c12cb7b9b944e1d19a6470b39f0">direction</a>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="class_four_rays.html#acd15e6d7f7140e764112917dfbcb6552">   25</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_four_rays.html#acd15e6d7f7140e764112917dfbcb6552">Check</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="comment">// in order to be valid to trace as a group, all four rays must have the same signs in all</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="comment">// of their direction components</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="glfuncs_8h.html#a5e306c4009248f70fb38b41f1dd404b2">c</a>=1;<a class="code" href="glfuncs_8h.html#a5e306c4009248f70fb38b41f1dd404b2">c</a>&lt;4;<a class="code" href="glfuncs_8h.html#a5e306c4009248f70fb38b41f1dd404b2">c</a>++)</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            <a class="code" href="_x_zip_8cpp.html#a06ade067fcfa180fe251ad98d3c23b9b">Assert</a>(<a class="code" href="class_four_rays.html#a4a961c12cb7b9b944e1d19a6470b39f0">direction</a>.<a class="code" href="class_four_vectors.html#aa4deca2650a8d28e5e26207b000b20da">X</a>(0)*<a class="code" href="class_four_rays.html#a4a961c12cb7b9b944e1d19a6470b39f0">direction</a>.<a class="code" href="class_four_vectors.html#aa4deca2650a8d28e5e26207b000b20da">X</a>(<a class="code" href="glfuncs_8h.html#a5e306c4009248f70fb38b41f1dd404b2">c</a>)&gt;=0);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            <a class="code" href="_x_zip_8cpp.html#a06ade067fcfa180fe251ad98d3c23b9b">Assert</a>(<a class="code" href="class_four_rays.html#a4a961c12cb7b9b944e1d19a6470b39f0">direction</a>.<a class="code" href="class_four_vectors.html#a39ab7d340d5e5fa28266756a561ddeda">Y</a>(0)*<a class="code" href="class_four_rays.html#a4a961c12cb7b9b944e1d19a6470b39f0">direction</a>.<a class="code" href="class_four_vectors.html#a39ab7d340d5e5fa28266756a561ddeda">Y</a>(<a class="code" href="glfuncs_8h.html#a5e306c4009248f70fb38b41f1dd404b2">c</a>)&gt;=0);</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <a class="code" href="_x_zip_8cpp.html#a06ade067fcfa180fe251ad98d3c23b9b">Assert</a>(<a class="code" href="class_four_rays.html#a4a961c12cb7b9b944e1d19a6470b39f0">direction</a>.<a class="code" href="class_four_vectors.html#aa2ce820532078717df705b7a1d3acca6">Z</a>(0)*<a class="code" href="class_four_rays.html#a4a961c12cb7b9b944e1d19a6470b39f0">direction</a>.<a class="code" href="class_four_vectors.html#aa2ce820532078717df705b7a1d3acca6">Z</a>(<a class="code" href="glfuncs_8h.html#a5e306c4009248f70fb38b41f1dd404b2">c</a>)&gt;=0);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        }</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    }</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">// returns direction sign mask for 4 rays. returns -1 if the rays can not be traced as a</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment">// bundle.</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_four_rays.html#ae749a5f24c59def8a34b0896233e349c">CalculateDirectionSignMask</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;};</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="raytrace_8h.html#a8f6050fbcef4d82b2766502e471ea9cd">   49</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="raytrace_8h.html#a8f6050fbcef4d82b2766502e471ea9cd">triangleflags</a></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="raytrace_8h.html#a8f6050fbcef4d82b2766502e471ea9cdaccbe6e97a93be770386cb1c77a967069">   51</a></span>&#160;    <a class="code" href="raytrace_8h.html#a8f6050fbcef4d82b2766502e471ea9cdaccbe6e97a93be770386cb1c77a967069">FCACHETRI_TRANSPARENT</a> = 0x01,</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="raytrace_8h.html#a8f6050fbcef4d82b2766502e471ea9cda0e89cdb07846d48ec52abdb4dda81c20">   52</a></span>&#160;    <a class="code" href="raytrace_8h.html#a8f6050fbcef4d82b2766502e471ea9cda0e89cdb07846d48ec52abdb4dda81c20">FCACHETRI_NEGATIVE_NORMAL</a> = 0x02,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;};</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="struct_tri_intersect_data__t.html">   56</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_tri_intersect_data__t.html">TriIntersectData_t</a></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// this structure is 16longs=64 bytes for cache line packing.</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_tri_intersect_data__t.html#aec5fa72b1dde7d84b5ca47d43f80c687">   59</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_tri_intersect_data__t.html#ae3f913f01b472d08270e84fe2aed9fbd">m_flNx</a>, <a class="code" href="struct_tri_intersect_data__t.html#a2812c0a1089a2e41e5c69b5915510d98">m_flNy</a>, <a class="code" href="struct_tri_intersect_data__t.html#aec5fa72b1dde7d84b5ca47d43f80c687">m_flNz</a>;                           <span class="comment">// plane equation</span></div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_tri_intersect_data__t.html#a1ee6f4899416bddf15d27aab59117265">   60</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_tri_intersect_data__t.html#a1ee6f4899416bddf15d27aab59117265">m_flD</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="struct_tri_intersect_data__t.html#a2ecc0317818d92b6b036cc08c6c44cbe">   62</a></span>&#160;    <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <a class="code" href="struct_tri_intersect_data__t.html#a2ecc0317818d92b6b036cc08c6c44cbe">m_nTriangleID</a>;                                    <span class="comment">// id of the triangle.</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct_tri_intersect_data__t.html#aca83ca99ae529eb7773760d53a3bf6fc">   64</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_tri_intersect_data__t.html#aca83ca99ae529eb7773760d53a3bf6fc">m_ProjectedEdgeEquations</a>[6];                      <span class="comment">// A,B,C for each edge equation.  a</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                                            <span class="comment">// point is inside the triangle if</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                            <span class="comment">// a*c1+b*c2+c is negative for all 3</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                                            <span class="comment">// edges.</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_tri_intersect_data__t.html#ab35dd49fa65296ebb6893755cb564b83">   69</a></span>&#160;    <a class="code" href="steamtypes_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="struct_tri_intersect_data__t.html#af004684538a691df9139a8fbe7d5b04c">m_nCoordSelect0</a>,<a class="code" href="struct_tri_intersect_data__t.html#ab35dd49fa65296ebb6893755cb564b83">m_nCoordSelect1</a>;                  <span class="comment">// the triangle is projected onto a 2d</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                                            <span class="comment">// plane for edge testing. These are</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                                            <span class="comment">// the indices (0..2) of the</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                                                            <span class="comment">// coordinates preserved in the</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                                            <span class="comment">// projection</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_tri_intersect_data__t.html#a4fd686239b867389597fe27dcd0f342a">   75</a></span>&#160;    <a class="code" href="steamtypes_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="struct_tri_intersect_data__t.html#a4fd686239b867389597fe27dcd0f342a">m_nFlags</a>;                                         <span class="comment">// triangle flags</span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct_tri_intersect_data__t.html#a596736e624e0453301c0d9c3c48d4880">   76</a></span>&#160;    <a class="code" href="steamtypes_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="struct_tri_intersect_data__t.html#a596736e624e0453301c0d9c3c48d4880">m_unused0</a>;                                        <span class="comment">// no longer used</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;};</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_tri_geometry_data__t.html">   80</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_tri_geometry_data__t.html">TriGeometryData_t</a></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct_tri_geometry_data__t.html#a66c2f8da83190ad10cd2024f01eca925">   82</a></span>&#160;    <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <a class="code" href="struct_tri_geometry_data__t.html#a66c2f8da83190ad10cd2024f01eca925">m_nTriangleID</a>;                                    <span class="comment">// id of the triangle.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_tri_geometry_data__t.html#a7f7ceb5b82bf0c2fdcc7cbaf7d6384b4">   84</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_tri_geometry_data__t.html#a7f7ceb5b82bf0c2fdcc7cbaf7d6384b4">m_VertexCoordData</a>[9];                             <span class="comment">// can&#39;t use a vector in a union</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="struct_tri_geometry_data__t.html#a4032456c526bcb6c71cc2e8316ab8d23">   86</a></span>&#160;    <a class="code" href="steamtypes_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="struct_tri_geometry_data__t.html#a4032456c526bcb6c71cc2e8316ab8d23">m_nFlags</a>;                                         <span class="comment">// triangle flags</span></div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="struct_tri_geometry_data__t.html#ae8a59ccee5c9b3f14b8768f8b456f932">   87</a></span>&#160;    <span class="keywordtype">signed</span> <span class="keywordtype">char</span> <a class="code" href="struct_tri_geometry_data__t.html#ae8a59ccee5c9b3f14b8768f8b456f932">m_nTmpData0</a>;                                <span class="comment">// used by kd-tree builder</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="struct_tri_geometry_data__t.html#a6052b9822d17e88dbbcb0fb8375943c7">   88</a></span>&#160;    <span class="keywordtype">signed</span> <span class="keywordtype">char</span> <a class="code" href="struct_tri_geometry_data__t.html#a6052b9822d17e88dbbcb0fb8375943c7">m_nTmpData1</a>;                                <span class="comment">// used by kd-tree builder</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// accessors to get around union annoyance</span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="struct_tri_geometry_data__t.html#aa035a8103ec57b0872acd33205123906">   92</a></span>&#160;    <a class="code" href="platform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="code" href="class_vector.html">Vector</a> &amp;<a class="code" href="struct_tri_geometry_data__t.html#aa035a8103ec57b0872acd33205123906">Vertex</a>(<span class="keywordtype">int</span> idx)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">return</span> * ( <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="class_vector.html">Vector</a> *<span class="keyword">&gt;</span> (  <a class="code" href="struct_tri_geometry_data__t.html#a7f7ceb5b82bf0c2fdcc7cbaf7d6384b4">m_VertexCoordData</a>+3*idx ) );</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;};</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="struct_cache_optimized_triangle.html">  100</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_cache_optimized_triangle.html">CacheOptimizedTriangle</a></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">union</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    {</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_cache_optimized_triangle.html#a5b5936a5f9bfaebfb73fc3ab9997eab9">  105</a></span>&#160;        <a class="code" href="struct_tri_intersect_data__t.html">TriIntersectData_t</a> <a class="code" href="struct_cache_optimized_triangle.html#a5b5936a5f9bfaebfb73fc3ab9997eab9">m_IntersectData</a>;</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="struct_cache_optimized_triangle.html#a149e4a22d7accd112c3a94523d376e27">  106</a></span>&#160;        <a class="code" href="struct_tri_geometry_data__t.html">TriGeometryData_t</a> <a class="code" href="struct_cache_optimized_triangle.html#a149e4a22d7accd112c3a94523d376e27">m_GeometryData</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    } <a class="code" href="struct_cache_optimized_triangle.html#a6309dda3506c993c3ccfaf27633ac7bb">m_Data</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// accessors to get around union annoyance</span></div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="struct_cache_optimized_triangle.html#a76194ab8981a563de67410c35ee7aab2">  110</a></span>&#160;    <a class="code" href="platform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <a class="code" href="class_vector.html">Vector</a> &amp;<a class="code" href="struct_cache_optimized_triangle.html#a76194ab8981a563de67410c35ee7aab2">Vertex</a>(<span class="keywordtype">int</span> idx)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">return</span> * ( <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="class_vector.html">Vector</a> *<span class="keyword">&gt;</span> (<a class="code" href="struct_cache_optimized_triangle.html#a6309dda3506c993c3ccfaf27633ac7bb">m_Data</a>.m_GeometryData.m_VertexCoordData+3*idx ) );</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="struct_cache_optimized_triangle.html#a5f91c4d1002c53879d3db9571453aebd">  115</a></span>&#160;    <a class="code" href="platform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a> <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;<a class="code" href="struct_cache_optimized_triangle.html#a5f91c4d1002c53879d3db9571453aebd">Vertex</a>(<span class="keywordtype">int</span> idx)<span class="keyword"> const</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">return</span> * ( <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_vector.html">Vector</a> *<span class="keyword">&gt;</span> (<a class="code" href="struct_cache_optimized_triangle.html#a6309dda3506c993c3ccfaf27633ac7bb">m_Data</a>.m_GeometryData.m_VertexCoordData+3*idx ) );</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="struct_cache_optimized_triangle.html#a09924901b54530966e739c11e9cca195">ChangeIntoIntersectionFormat</a>(<span class="keywordtype">void</span>);                <span class="comment">// change information storage format for</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                                            <span class="comment">// computing intersections.</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_cache_optimized_triangle.html#a41f83b0fcc70d62177d278bf831f2a95">ClassifyAgainstAxisSplit</a>(<span class="keywordtype">int</span> split_plane, <span class="keywordtype">float</span> split_value); <span class="comment">// PLANECHECK_xxx below</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    </div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;};</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="raytrace_8h.html#a4a35a0d5e8e9849f9214eff22ad652ba">  127</a></span>&#160;<span class="preprocessor">#define PLANECHECK_POSITIVE 1</span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="raytrace_8h.html#a7d2274924c49fb4d6fa0fee1de19e141">  128</a></span>&#160;<span class="preprocessor">#define PLANECHECK_NEGATIVE -1</span></div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="raytrace_8h.html#a9e72b42f481d2c795bbc679f7121e32c">  129</a></span>&#160;<span class="preprocessor">#define PLANECHECK_STRADDLING 0</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="raytrace_8h.html#a477164a6b0991340ac7547a27eff7f7a">  131</a></span>&#160;<span class="preprocessor">#define KDNODE_STATE_XSPLIT 0                               // this node is an x split</span></div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="raytrace_8h.html#ae94979cde55959e05336649bf5300e3f">  132</a></span>&#160;<span class="preprocessor">#define KDNODE_STATE_YSPLIT 1                               // this node is a ysplit</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="raytrace_8h.html#af1baa50905df3ebfa0dc780966c7266c">  133</a></span>&#160;<span class="preprocessor">#define KDNODE_STATE_ZSPLIT 2                               // this node is a zsplit</span></div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="raytrace_8h.html#a2211fe3bf344a5856c01fbd3cdf0020b">  134</a></span>&#160;<span class="preprocessor">#define KDNODE_STATE_LEAF 3                                 // this node is a leaf</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="struct_cache_optimized_k_d_node.html">  136</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_cache_optimized_k_d_node.html">CacheOptimizedKDNode</a></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// this is the cache intensive data structure. &quot;Tricks&quot; are used to fit it into 8 bytes:</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// A) the right child is always stored after the left child, which means we only need one</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// pointer</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// B) The type of node (KDNODE_xx) is stored in the lower 2 bits of the pointer.</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// C) for leaf nodes, we store the number of triangles in the leaf in the same place as the floating</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">//    point splitting parameter is stored in a non-leaf node</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="struct_cache_optimized_k_d_node.html#a3287a5f8f2953cd4d14f34194f1a41bc">  146</a></span>&#160;    <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <a class="code" href="struct_cache_optimized_k_d_node.html#a3287a5f8f2953cd4d14f34194f1a41bc">Children</a>;                                         <span class="comment">// child idx, or&#39;ed with flags above</span></div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="struct_cache_optimized_k_d_node.html#acbda15a7ccd0282653bba43542f87639">  147</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_cache_optimized_k_d_node.html#acbda15a7ccd0282653bba43542f87639">SplittingPlaneValue</a>;                              <span class="comment">// for non-leaf nodes, the nodes on the</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                                            <span class="comment">// &quot;high&quot; side of the splitting plane</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                                            <span class="comment">// are on the right</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">#ifdef DEBUG_RAYTRACE</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="class_vector.html">Vector</a> vecMins;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="class_vector.html">Vector</a> vecMaxs;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="struct_cache_optimized_k_d_node.html#a1442bc4df32fc7a6154044bed81a31df">  156</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="struct_cache_optimized_k_d_node.html#a1442bc4df32fc7a6154044bed81a31df">NodeType</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword"></span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="struct_cache_optimized_k_d_node.html#a3287a5f8f2953cd4d14f34194f1a41bc">Children</a> &amp; 3;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="struct_cache_optimized_k_d_node.html#ab3c0b913a197c23665a496b34eb97be2">  162</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <a class="code" href="struct_cache_optimized_k_d_node.html#ab3c0b913a197c23665a496b34eb97be2">TriangleIndexStart</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        assert(<a class="code" href="struct_cache_optimized_k_d_node.html#a1442bc4df32fc7a6154044bed81a31df">NodeType</a>()==<a class="code" href="raytrace_8h.html#a2211fe3bf344a5856c01fbd3cdf0020b">KDNODE_STATE_LEAF</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="struct_cache_optimized_k_d_node.html#a3287a5f8f2953cd4d14f34194f1a41bc">Children</a>&gt;&gt;2;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="struct_cache_optimized_k_d_node.html#a637e076f8dd5d6640f6eb2c605dbc64e">  168</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="struct_cache_optimized_k_d_node.html#a637e076f8dd5d6640f6eb2c605dbc64e">LeftChild</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        assert(<a class="code" href="struct_cache_optimized_k_d_node.html#a1442bc4df32fc7a6154044bed81a31df">NodeType</a>()!=<a class="code" href="raytrace_8h.html#a2211fe3bf344a5856c01fbd3cdf0020b">KDNODE_STATE_LEAF</a>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="struct_cache_optimized_k_d_node.html#a3287a5f8f2953cd4d14f34194f1a41bc">Children</a>&gt;&gt;2;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="struct_cache_optimized_k_d_node.html#a22523319c96f25e4724e33da76d32f8f">  174</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="struct_cache_optimized_k_d_node.html#a22523319c96f25e4724e33da76d32f8f">RightChild</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="struct_cache_optimized_k_d_node.html#a637e076f8dd5d6640f6eb2c605dbc64e">LeftChild</a>()+1;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="struct_cache_optimized_k_d_node.html#a73517f71f3b7d9b83e84e24059da4ba4">  179</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="struct_cache_optimized_k_d_node.html#a73517f71f3b7d9b83e84e24059da4ba4">NumberOfTrianglesInLeaf</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        assert(<a class="code" href="struct_cache_optimized_k_d_node.html#a1442bc4df32fc7a6154044bed81a31df">NodeType</a>()==<a class="code" href="raytrace_8h.html#a2211fe3bf344a5856c01fbd3cdf0020b">KDNODE_STATE_LEAF</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span> *((<a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> *) &amp;<a class="code" href="struct_cache_optimized_k_d_node.html#acbda15a7ccd0282653bba43542f87639">SplittingPlaneValue</a>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="struct_cache_optimized_k_d_node.html#afd2ee60bcd23e86f57740282fd5fc754">  185</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="struct_cache_optimized_k_d_node.html#afd2ee60bcd23e86f57740282fd5fc754">SetNumberOfTrianglesInLeafNode</a>(<span class="keywordtype">int</span> <a class="code" href="glfuncs_8h.html#a4dda9406d93310f9bf0dd88ccf6009aa">n</a>)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        *((<a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> *) &amp;<a class="code" href="struct_cache_optimized_k_d_node.html#acbda15a7ccd0282653bba43542f87639">SplittingPlaneValue</a>)=<a class="code" href="glfuncs_8h.html#a4dda9406d93310f9bf0dd88ccf6009aa">n</a>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;};</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="struct_ray_tracing_single_result.html">  196</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_ray_tracing_single_result.html">RayTracingSingleResult</a></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="struct_ray_tracing_single_result.html#a47e0c501637bc7d5fa3a94a8dbe3c86d">  198</a></span>&#160;    <a class="code" href="class_vector.html">Vector</a> <a class="code" href="struct_ray_tracing_single_result.html#a47e0c501637bc7d5fa3a94a8dbe3c86d">surface_normal</a>;                                  <span class="comment">// surface normal at intersection</span></div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="struct_ray_tracing_single_result.html#a3dfe734b203ba9868fdea1148789c1e1">  199</a></span>&#160;    <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <a class="code" href="struct_ray_tracing_single_result.html#a3dfe734b203ba9868fdea1148789c1e1">HitID</a>;                                            <span class="comment">// -1=no hit. otherwise, triangle index</span></div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="struct_ray_tracing_single_result.html#a84950e88eb508b52364504d568e12bc8">  200</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_ray_tracing_single_result.html#a84950e88eb508b52364504d568e12bc8">HitDistance</a>;                                      <span class="comment">// distance to intersection</span></div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="struct_ray_tracing_single_result.html#a55b8adf59f3ad9468a403d4f087ad43d">  201</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_ray_tracing_single_result.html#a55b8adf59f3ad9468a403d4f087ad43d">ray_length</a>;                                       <span class="comment">// leng of initial ray</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;};</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="struct_ray_tracing_result.html">  204</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_ray_tracing_result.html">RayTracingResult</a></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="struct_ray_tracing_result.html#a62787089ec6b1c90e4a92b460b611317">  206</a></span>&#160;    <a class="code" href="class_four_vectors.html">FourVectors</a> <a class="code" href="struct_ray_tracing_result.html#a62787089ec6b1c90e4a92b460b611317">surface_normal</a>;                             <span class="comment">// surface normal at intersection</span></div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="struct_ray_tracing_result.html#ad9fefd73beb89105a74a42acb83a7a98">  207</a></span>&#160;    ALIGN16 <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> HitIds[4] <a class="code" href="struct_ray_tracing_result.html#ad9fefd73beb89105a74a42acb83a7a98">ALIGN16_POST</a>;                               <span class="comment">// -1=no hit. otherwise, triangle index</span></div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="struct_ray_tracing_result.html#a9ba143c49906890186d2f627b274d4e8">  208</a></span>&#160;    <a class="code" href="ssemath_8h.html#a065e29ac1ad6fb4823fe135b8c6fcb79">fltx4</a> <a class="code" href="struct_ray_tracing_result.html#a9ba143c49906890186d2f627b274d4e8">HitDistance</a>;                                      <span class="comment">// distance to intersection</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;};</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="class_ray_trace_light.html">  212</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_ray_trace_light.html">RayTraceLight</a></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;{</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="class_ray_trace_light.html#a80621d971b353c2b995813145a1aa8db">  215</a></span>&#160;    <a class="code" href="class_four_vectors.html">FourVectors</a> <a class="code" href="class_ray_trace_light.html#a80621d971b353c2b995813145a1aa8db">Position</a>;</div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="class_ray_trace_light.html#aa72e6d7ef9b7e7e414868d25b10c1429">  216</a></span>&#160;    <a class="code" href="class_four_vectors.html">FourVectors</a> <a class="code" href="class_ray_trace_light.html#aa72e6d7ef9b7e7e414868d25b10c1429">Intensity</a>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;};</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="raytrace_8h.html#ab9dddab8710390e91f02461b33de5987">  220</a></span>&#160;<span class="preprocessor">#define RTE_FLAGS_FAST_TREE_GENERATION 1</span></div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="raytrace_8h.html#a6ccb583ab25b2048bdf6360da979e17c">  221</a></span>&#160;<span class="preprocessor">#define RTE_FLAGS_DONT_STORE_TRIANGLE_COLORS 2              // saves memory if not needed</span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="raytrace_8h.html#a8090b3cee1146921188cc53638208ebc">  222</a></span>&#160;<span class="preprocessor">#define RTE_FLAGS_DONT_STORE_TRIANGLE_MATERIALS 4</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308">  224</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308">RayTraceLightingMode_t</a> {</div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308a213e14b3cf3313f038b3056e8465dc22">  225</a></span>&#160;    <a class="code" href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308a213e14b3cf3313f038b3056e8465dc22">DIRECT_LIGHTING</a>,                                        <span class="comment">// just dot product lighting</span></div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308a869fba8a19bc73bf91a3c4c05aa3d950">  226</a></span>&#160;    <a class="code" href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308a869fba8a19bc73bf91a3c4c05aa3d950">DIRECT_LIGHTING_WITH_SHADOWS</a>,                       <span class="comment">// with shadows</span></div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308abcfb0df2bc21eab24483e8c9a424462d">  227</a></span>&#160;    <a class="code" href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308abcfb0df2bc21eab24483e8c9a424462d">GLOBAL_LIGHTING</a>                                     <span class="comment">// global light w/ shadows</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;};</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="class_ray_stream.html">  231</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_ray_stream.html">RayStream</a></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="class_ray_stream.html#a4b889f122cd923e368ebc1dda8a59e59">  233</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_ray_tracing_environment.html">RayTracingEnvironment</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="struct_ray_tracing_single_result.html">RayTracingSingleResult</a> *PendingStreamOutputs[8][4];</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordtype">int</span> n_in_stream[8];</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="class_four_rays.html">FourRays</a> PendingRays[8];</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="class_ray_stream.html#a2b422db393db5810a5bea94fb3d4c318">  240</a></span>&#160;    <a class="code" href="class_ray_stream.html#a2b422db393db5810a5bea94fb3d4c318">RayStream</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        memset(n_in_stream,0,<span class="keyword">sizeof</span>(n_in_stream));</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;};</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">// When transparent triangles are in the list, the caller can provide a callback that will get called at each triangle</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">// allowing the callback to stop processing if desired.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">// UNDONE: This is not currently SIMD - it really only supports single rays</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">// Also for efficiency FourRays really needs some kind of active mask for the cases where rays get unbundled</span></div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="class_i_transparent_triangle_callback.html">  250</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_i_transparent_triangle_callback.html">ITransparentTriangleCallback</a></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;{</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_i_transparent_triangle_callback.html#a6ea8ba68bb5ef7978eac2e12eb6fde47">VisitTriangle_ShouldContinue</a>( <span class="keyword">const</span> <a class="code" href="struct_tri_intersect_data__t.html">TriIntersectData_t</a> &amp;triangle, <span class="keyword">const</span> <a class="code" href="class_four_rays.html">FourRays</a> &amp;rays, <a class="code" href="ssemath_8h.html#a065e29ac1ad6fb4823fe135b8c6fcb79">fltx4</a> *hitMask, <a class="code" href="ssemath_8h.html#a065e29ac1ad6fb4823fe135b8c6fcb79">fltx4</a> *b0, <a class="code" href="ssemath_8h.html#a065e29ac1ad6fb4823fe135b8c6fcb79">fltx4</a> *b1, <a class="code" href="ssemath_8h.html#a065e29ac1ad6fb4823fe135b8c6fcb79">fltx4</a> *b2, <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> hitID ) = 0;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;};</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html">  256</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_ray_tracing_environment.html">RayTracingEnvironment</a></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#aea49de7635d641c1a372e61f3aaaccf6">  259</a></span>&#160;    <a class="code" href="steamtypes_8h.html#a4f44b79851297d71fd90a3c87786c725">uint32</a> <a class="code" href="class_ray_tracing_environment.html#aea49de7635d641c1a372e61f3aaaccf6">Flags</a>;                                           <span class="comment">// RTE_FLAGS_xxx above</span></div><div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#a022a56ef81eb7895a53fceac1d38dba5">  260</a></span>&#160;    <a class="code" href="class_vector.html">Vector</a> <a class="code" href="class_ray_tracing_environment.html#a022a56ef81eb7895a53fceac1d38dba5">m_MinBound</a>;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#a4953156cd47a5f9481728d79ae8bcb41">  261</a></span>&#160;    <a class="code" href="class_vector.html">Vector</a> <a class="code" href="class_ray_tracing_environment.html#a4953156cd47a5f9481728d79ae8bcb41">m_MaxBound</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#ad51d63b4df65cb6cb4933612889b9d39">  263</a></span>&#160;    <a class="code" href="class_four_vectors.html">FourVectors</a> <a class="code" href="class_ray_tracing_environment.html#ad51d63b4df65cb6cb4933612889b9d39">BackgroundColor</a>;                            <span class="comment">//&lt; color where no intersection</span></div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#a587540ed467c8e458adbe8f5bd657638">  264</a></span>&#160;    <a class="code" href="class_c_utl_vector.html">CUtlVector&lt;CacheOptimizedKDNode&gt;</a> <a class="code" href="class_ray_tracing_environment.html#a587540ed467c8e458adbe8f5bd657638">OptimizedKDTree</a>;       <span class="comment">//&lt; the packed kdtree. root is 0</span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#a6a3cf0a98f270d7de5a4aea08f436d34">  265</a></span>&#160;    <a class="code" href="class_c_utl_block_vector.html">CUtlBlockVector&lt;CacheOptimizedTriangle&gt;</a> <a class="code" href="class_ray_tracing_environment.html#a6a3cf0a98f270d7de5a4aea08f436d34">OptimizedTriangleList</a>; <span class="comment">//&lt; the packed triangles</span></div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#a417a233d00086503027144348ce6403b">  266</a></span>&#160;    <a class="code" href="class_c_utl_vector.html">CUtlVector&lt;int32&gt;</a> <a class="code" href="class_ray_tracing_environment.html#a417a233d00086503027144348ce6403b">TriangleIndexList</a>;                    <span class="comment">//&lt; the list of triangle indices.</span></div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#a8f77a2370493852a6ad9c89c081b8980">  267</a></span>&#160;    <a class="code" href="class_c_utl_vector.html">CUtlVector&lt;LightDesc_t&gt;</a> <a class="code" href="class_ray_tracing_environment.html#a8f77a2370493852a6ad9c89c081b8980">LightList</a>;                      <span class="comment">//&lt; the list of lights</span></div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#a964aa02275a0eb7313f41bf161a185b0">  268</a></span>&#160;    <a class="code" href="class_c_utl_vector.html">CUtlVector&lt;Vector&gt;</a> <a class="code" href="class_ray_tracing_environment.html#a964aa02275a0eb7313f41bf161a185b0">TriangleColors</a>;                      <span class="comment">//&lt; color of tries</span></div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#a02e63ba93b8488227e6527bb2c74b7ea">  269</a></span>&#160;    <a class="code" href="class_c_utl_vector.html">CUtlVector&lt;int32&gt;</a> <a class="code" href="class_ray_tracing_environment.html#a02e63ba93b8488227e6527bb2c74b7ea">TriangleMaterials</a>;                    <span class="comment">//&lt; material index of tries</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#ad43110f234613edae05fa0bb7bb2e623">  272</a></span>&#160;    <a class="code" href="class_ray_tracing_environment.html#ad43110f234613edae05fa0bb7bb2e623">RayTracingEnvironment</a>() : <a class="code" href="class_ray_tracing_environment.html#a6a3cf0a98f270d7de5a4aea08f436d34">OptimizedTriangleList</a>( 1024 )</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="class_ray_tracing_environment.html#ad51d63b4df65cb6cb4933612889b9d39">BackgroundColor</a>.<a class="code" href="class_four_vectors.html#a154c779bec08f1e08cf2ee6f8f903116">DuplicateVector</a>(<a class="code" href="class_vector.html">Vector</a>(1,0,0));     <span class="comment">// red</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="class_ray_tracing_environment.html#aea49de7635d641c1a372e61f3aaaccf6">Flags</a>=0;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">// call AddTriangle to set up the world</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#aa769594ac5ad04bedbb9d86d2410cf93">AddTriangle</a>(<a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;v1, <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;v2, <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;v3,</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                     <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;color);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">// Adds a triangle with flags &amp; material</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#aa769594ac5ad04bedbb9d86d2410cf93">AddTriangle</a>(<a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;v1, <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;v2, <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;v3,</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;color, <a class="code" href="steamtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="glfuncs_8h.html#aa6c93bd4221a61daf80570d28f06267c">flags</a>, <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> materialIndex);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a120511181ff77cbbd2806e3506f5c4a8">AddQuad</a>(<a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;v1, <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;v2, <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;v3,</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                 <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;v4,                          <span class="comment">// specify vertices in cw or ccw order</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                 <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;color);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// for ease of testing. </span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a58981d0ca751df6d95c5c841c02c0a97">AddAxisAlignedRectangularSolid</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>,<a class="code" href="class_vector.html">Vector</a> mincoord, <a class="code" href="class_vector.html">Vector</a> Maxcoord, </div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;color);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// SetupAccelerationStructure to prepare for tracing</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a2cd0d058cd27ac03772c0513f25e3873">SetupAccelerationStructure</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// lowest level intersection routine - fire 4 rays through the scene. all 4 rays must pass the</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// Check() function, and t extents must be initialized. skipid can be set to exclude a</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// particular id (such as the origin surface). This function finds the closest intersection.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#aacc41cb87e6e042a468fd807948cc75d">Trace4Rays</a>(<span class="keyword">const</span> <a class="code" href="class_four_rays.html">FourRays</a> &amp;rays, <a class="code" href="ssemath_8h.html#a065e29ac1ad6fb4823fe135b8c6fcb79">fltx4</a> TMin, <a class="code" href="ssemath_8h.html#a065e29ac1ad6fb4823fe135b8c6fcb79">fltx4</a> TMax,<span class="keywordtype">int</span> DirectionSignMask,</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                    <a class="code" href="struct_ray_tracing_result.html">RayTracingResult</a> *rslt_out,</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> skip_id=-1, <a class="code" href="class_i_transparent_triangle_callback.html">ITransparentTriangleCallback</a> *pCallback = <a class="code" href="basetypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">// higher level intersection routine that handles computing the mask and handling rays which do not match in direciton sign</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#aacc41cb87e6e042a468fd807948cc75d">Trace4Rays</a>(<span class="keyword">const</span> <a class="code" href="class_four_rays.html">FourRays</a> &amp;rays, <a class="code" href="ssemath_8h.html#a065e29ac1ad6fb4823fe135b8c6fcb79">fltx4</a> TMin, <a class="code" href="ssemath_8h.html#a065e29ac1ad6fb4823fe135b8c6fcb79">fltx4</a> TMax,</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <a class="code" href="struct_ray_tracing_result.html">RayTracingResult</a> *rslt_out,</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> skip_id=-1, <a class="code" href="class_i_transparent_triangle_callback.html">ITransparentTriangleCallback</a> *pCallback = <a class="code" href="basetypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">// compute virtual light sources to model inter-reflection</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#ae72fb44bd88a953296d73974dc0e8081">ComputeVirtualLightSources</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">// high level interface - pass viewing parameters, rendering flags, and a destination frame</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// buffer, and get a ray traced scene in 32-bit rgba format</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a4b3b3ee247bda997547e69ac15b98e9e">RenderScene</a>(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height,                 <span class="comment">// width and height of desired rendering</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                     <span class="keywordtype">int</span> stride,                            <span class="comment">// actual width in pixels of target buffer</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                     <a class="code" href="steamtypes_8h.html#a4f44b79851297d71fd90a3c87786c725">uint32</a> *output_buffer,                 <span class="comment">// pointer to destination </span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                     <a class="code" href="class_vector.html">Vector</a> CameraOrigin,                   <span class="comment">// eye position</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                     <a class="code" href="class_vector.html">Vector</a> ULCorner,                       <span class="comment">// word space coordinates of upper left</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                                            <span class="comment">// monitor corner</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                     <a class="code" href="class_vector.html">Vector</a> URCorner,                       <span class="comment">// top right corner</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                     <a class="code" href="class_vector.html">Vector</a> LLCorner,                       <span class="comment">// lower left</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                     <a class="code" href="class_vector.html">Vector</a> LRCorner,                       <span class="comment">// lower right</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                     <a class="code" href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308">RayTraceLightingMode_t</a> lightmode=<a class="code" href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308a213e14b3cf3313f038b3056e8465dc22">DIRECT_LIGHTING</a>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                     </div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a4559a1181331f1ba5635695b662269cf">AddToRayStream</a>(<a class="code" href="class_ray_stream.html">RayStream</a> &amp;s,</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                        <a class="code" href="class_vector.html">Vector</a> <span class="keyword">const</span> &amp;start,<a class="code" href="class_vector.html">Vector</a> <span class="keyword">const</span> &amp;end,<a class="code" href="struct_ray_tracing_single_result.html">RayTracingSingleResult</a> *rslt_out);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a277af99393026fa0efedc3547b1a2b60">FlushStreamEntry</a>(<a class="code" href="class_ray_stream.html">RayStream</a> &amp;s,<span class="keywordtype">int</span> msk);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a1ced28bee26c7afdaf9f6933e1e962cc">FinishRayStream</a>(<a class="code" href="class_ray_stream.html">RayStream</a> &amp;s);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_ray_tracing_environment.html#a59380d83fdbd556ddb43a456e695a8cc">MakeLeafNode</a>(<span class="keywordtype">int</span> first_tri, <span class="keywordtype">int</span> last_tri);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="class_ray_tracing_environment.html#a63424a0165eebebb30a1120b2d924e76">CalculateCostsOfSplit</a>(</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordtype">int</span> split_plane,<a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <span class="keyword">const</span> *tri_list,<span class="keywordtype">int</span> ntris,</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="class_vector.html">Vector</a> MinBound,<a class="code" href="class_vector.html">Vector</a> MaxBound, <span class="keywordtype">float</span> &amp;split_value,</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordtype">int</span> &amp;nleft, <span class="keywordtype">int</span> &amp;nright, <span class="keywordtype">int</span> &amp;nboth);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        </div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#aadb0bfdd585689f6da8a96b210508d19">RefineNode</a>(<span class="keywordtype">int</span> node_number,<a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <span class="keyword">const</span> *tri_list,<span class="keywordtype">int</span> ntris,</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                         <a class="code" href="class_vector.html">Vector</a> MinBound,<a class="code" href="class_vector.html">Vector</a> MaxBound, <span class="keywordtype">int</span> depth);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    </div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a40401284dee5629ccd53779d3e150be6">CalculateTriangleListBounds</a>(<a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <span class="keyword">const</span> *tris,<span class="keywordtype">int</span> ntris,</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                     <a class="code" href="class_vector.html">Vector</a> &amp;minout, <a class="code" href="class_vector.html">Vector</a> &amp;maxout);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a9b02f270d1becef26260361910c70647">AddInfinitePointLight</a>(<a class="code" href="class_vector.html">Vector</a> position,             <span class="comment">// light center</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                               <a class="code" href="class_vector.html">Vector</a> intensity);           <span class="comment">// rgb amount</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// use the global variables set by LoadBSPFile to populated the RayTracingEnvironment with</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// faces.</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a1fe66aad212e4d0fe8ad4eb9b2d2fe78">InitializeFromLoadedBSP</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a749e4465347c5784b4b2389dd64c5001">AddBSPFace</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>,<a class="code" href="structdface__t.html">dface_t</a> <span class="keyword">const</span> &amp;face);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// MakeRoomForTriangles - a hint telling it how many triangles we are going to add so that</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// the utl vectors used can be pre-allocated</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_ray_tracing_environment.html#a88ed2b244130d2ee55ea158c214f9837">MakeRoomForTriangles</a>( <span class="keywordtype">int</span> ntriangles );</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#aeaca82528032d64f652dc64e5c3cc7d7">  372</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_cache_optimized_triangle.html">CacheOptimizedTriangle</a> &amp;<a class="code" href="class_ray_tracing_environment.html#aeaca82528032d64f652dc64e5c3cc7d7">GetTriangle</a>( <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> triID )</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_ray_tracing_environment.html#a6a3cf0a98f270d7de5a4aea08f436d34">OptimizedTriangleList</a>[triID];</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#a5db0c2e8fb7ed780522b5d82a46d6073">  377</a></span>&#160;    <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> <a class="code" href="class_ray_tracing_environment.html#a5db0c2e8fb7ed780522b5d82a46d6073">GetTriangleMaterial</a>( <a class="code" href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a> triID )</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_ray_tracing_environment.html#a02e63ba93b8488227e6527bb2c74b7ea">TriangleMaterials</a>[triID];</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="class_ray_tracing_environment.html#aa04742da23fefe374206ed4a3ad6d67f">  381</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="class_vector.html">Vector</a> &amp;<a class="code" href="class_ray_tracing_environment.html#aa04742da23fefe374206ed4a3ad6d67f">GetTriangleColor</a>( <span class="keywordtype">int</span> triID )</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_ray_tracing_environment.html#a964aa02275a0eb7313f41bf161a185b0">TriangleColors</a>[triID];</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;};</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="struct_cache_optimized_k_d_node_html_ab3c0b913a197c23665a496b34eb97be2"><div class="ttname"><a href="struct_cache_optimized_k_d_node.html#ab3c0b913a197c23665a496b34eb97be2">CacheOptimizedKDNode::TriangleIndexStart</a></div><div class="ttdeci">int32 TriangleIndexStart(void) const</div><div class="ttdef"><b>Definition:</b> raytrace.h:162</div></div>
<div class="ttc" id="class_four_vectors_html_a39ab7d340d5e5fa28266756a561ddeda"><div class="ttname"><a href="class_four_vectors.html#a39ab7d340d5e5fa28266756a561ddeda">FourVectors::Y</a></div><div class="ttdeci">FORCEINLINE const float &amp; Y(int idx) const</div><div class="ttdef"><b>Definition:</b> ssemath.h:2553</div></div>
<div class="ttc" id="struct_tri_geometry_data__t_html_a66c2f8da83190ad10cd2024f01eca925"><div class="ttname"><a href="struct_tri_geometry_data__t.html#a66c2f8da83190ad10cd2024f01eca925">TriGeometryData_t::m_nTriangleID</a></div><div class="ttdeci">int32 m_nTriangleID</div><div class="ttdef"><b>Definition:</b> raytrace.h:82</div></div>
<div class="ttc" id="glfuncs_8h_html_aa6c93bd4221a61daf80570d28f06267c"><div class="ttname"><a href="glfuncs_8h.html#aa6c93bd4221a61daf80570d28f06267c">flags</a></div><div class="ttdeci">GLenum a GLhandleARB GLhandleARB b GLhandleARB GLuint const GLcharARB c GLenum GLuint b GLclampf GLclampf GLclampf GLclampf d GLenum GLenum b GLbitfield a GLclampd a GLenum const GLdouble b GLhandleARB a GLenum GLint GLenum GLsizei GLsizei GLsizei GLint GLsizei const GLvoid i GLenum a GLhandleARB a GLsizei const GLuint b GLsizei const GLuint b GLboolean a GLhandleARB GLhandleARB b GLuint a GLenum a GLenum GLuint GLuint GLsizei GLenum const GLvoid f GLenum a GLsizei GLuint b GLsizei GLuint b GLenum GLboolean b GLenum GLdouble b GLhandleARB GLsizei GLsizei GLcharARB d GLhandleARB GLenum GLint c const GLubyte GLenum a GLhandleARB const GLcharARB b GLuint a GLvoid GLenum GLenum b GLenum GLint b GLfloat GLfloat b GLenum GLenum GLsizei const GLvoid d GLenum a GLhandleARB GLsizei const GLcharARB const GLint d GLuint a GLfloat GLfloat b GLenum GLint GLint GLsizei GLsizei GLsizei GLint GLenum GLenum const GLvoid j GLenum GLenum GLint c GLint GLfloat b GLint GLint b GLenum a GLfloat GLfloat GLfloat c GLint GLint GLsizei GLsizei d GLenum a GLint GLenum GLsizei const GLvoid d GLenum GLuint GLsizei const GLfloat d GLenum GLenum GLenum GLenum d GLenum GLint GLenum GLint d GLenum GLuint b GLenum a GLenum GLenum GLenum GLuint d GLenum GLenum GLenum GLuint GLint GLint f GLsizei GLuint b GLint GLint GLint GLint GLint GLint GLint GLint GLbitfield GLenum j GLuint a GLuint a GLsizei GLuint b GLuint GLenum b GLsizei const GLuint b GLuint GLboolean GLboolean GLboolean GLboolean e GLenum GLuint b GLuint GLint GLuint c GLenum GLenum b GLenum GLintptr GLsizeiptr c GLenum GLintptr GLsizeiptr c GLenum GLuint b GLuint GLenum GLint c GLenum GLsizei void c GLenum GLuint b GLenum a GLenum GLenum GLenum GLuint d GLenum GLenum GLenum GLuint GLint GLint f GLsizei GLuint b GLint GLint GLint GLint GLint GLint GLint GLint GLbitfield GLenum j GLsizei const void b GLenum GLenum GLenum GLsizei const GLuint GLboolean f GLuint GLuint b GLuint GLuint b GLuint GLenum GLfloat c GLuint texture GLuint64 handle GLint GLuint64 value GLuint GLint GLuint64 value GLuint64 handle GLsizei const GLuint ids GLenum target GLuint GLenum GLint params GLenum GLenum GLintptr GLintptr GLsizeiptr size GLsizei GLuint arrays GLbitfield a GLenum GLsizeiptr const void GLbitfield flags</div><div class="ttdef"><b>Definition:</b> glfuncs.h:270</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_aadb0bfdd585689f6da8a96b210508d19"><div class="ttname"><a href="class_ray_tracing_environment.html#aadb0bfdd585689f6da8a96b210508d19">RayTracingEnvironment::RefineNode</a></div><div class="ttdeci">void RefineNode(int node_number, int32 const *tri_list, int ntris, Vector MinBound, Vector MaxBound, int depth)</div></div>
<div class="ttc" id="class_i_transparent_triangle_callback_html"><div class="ttname"><a href="class_i_transparent_triangle_callback.html">ITransparentTriangleCallback</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:250</div></div>
<div class="ttc" id="class_four_rays_html_ae749a5f24c59def8a34b0896233e349c"><div class="ttname"><a href="class_four_rays.html#ae749a5f24c59def8a34b0896233e349c">FourRays::CalculateDirectionSignMask</a></div><div class="ttdeci">int CalculateDirectionSignMask(void) const</div></div>
<div class="ttc" id="lightdesc_8h_html"><div class="ttname"><a href="lightdesc_8h.html">lightdesc.h</a></div></div>
<div class="ttc" id="steamtypes_8h_html_a05f6b0ae8f6a6e135b0e290c25fe0e4e"><div class="ttname"><a href="steamtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></div><div class="ttdeci">unsigned short uint16</div><div class="ttdef"><b>Definition:</b> steamtypes.h:62</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a022a56ef81eb7895a53fceac1d38dba5"><div class="ttname"><a href="class_ray_tracing_environment.html#a022a56ef81eb7895a53fceac1d38dba5">RayTracingEnvironment::m_MinBound</a></div><div class="ttdeci">Vector m_MinBound</div><div class="ttdef"><b>Definition:</b> raytrace.h:260</div></div>
<div class="ttc" id="struct_ray_tracing_single_result_html"><div class="ttname"><a href="struct_ray_tracing_single_result.html">RayTracingSingleResult</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:196</div></div>
<div class="ttc" id="class_four_vectors_html"><div class="ttname"><a href="class_four_vectors.html">FourVectors</a></div><div class="ttdef"><b>Definition:</b> ssemath.h:2427</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a749e4465347c5784b4b2389dd64c5001"><div class="ttname"><a href="class_ray_tracing_environment.html#a749e4465347c5784b4b2389dd64c5001">RayTracingEnvironment::AddBSPFace</a></div><div class="ttdeci">void AddBSPFace(int id, dface_t const &amp;face)</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a9b02f270d1becef26260361910c70647"><div class="ttname"><a href="class_ray_tracing_environment.html#a9b02f270d1becef26260361910c70647">RayTracingEnvironment::AddInfinitePointLight</a></div><div class="ttdeci">void AddInfinitePointLight(Vector position, Vector intensity)</div></div>
<div class="ttc" id="struct_cache_optimized_k_d_node_html_afd2ee60bcd23e86f57740282fd5fc754"><div class="ttname"><a href="struct_cache_optimized_k_d_node.html#afd2ee60bcd23e86f57740282fd5fc754">CacheOptimizedKDNode::SetNumberOfTrianglesInLeafNode</a></div><div class="ttdeci">void SetNumberOfTrianglesInLeafNode(int n)</div><div class="ttdef"><b>Definition:</b> raytrace.h:185</div></div>
<div class="ttc" id="struct_ray_tracing_result_html_a62787089ec6b1c90e4a92b460b611317"><div class="ttname"><a href="struct_ray_tracing_result.html#a62787089ec6b1c90e4a92b460b611317">RayTracingResult::surface_normal</a></div><div class="ttdeci">FourVectors surface_normal</div><div class="ttdef"><b>Definition:</b> raytrace.h:206</div></div>
<div class="ttc" id="struct_cache_optimized_triangle_html_a09924901b54530966e739c11e9cca195"><div class="ttname"><a href="struct_cache_optimized_triangle.html#a09924901b54530966e739c11e9cca195">CacheOptimizedTriangle::ChangeIntoIntersectionFormat</a></div><div class="ttdeci">void ChangeIntoIntersectionFormat(void)</div></div>
<div class="ttc" id="steamtypes_8h_html_a4f44b79851297d71fd90a3c87786c725"><div class="ttname"><a href="steamtypes_8h.html#a4f44b79851297d71fd90a3c87786c725">uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdef"><b>Definition:</b> steamtypes.h:64</div></div>
<div class="ttc" id="raytrace_8h_html_a8f6050fbcef4d82b2766502e471ea9cdaccbe6e97a93be770386cb1c77a967069"><div class="ttname"><a href="raytrace_8h.html#a8f6050fbcef4d82b2766502e471ea9cdaccbe6e97a93be770386cb1c77a967069">FCACHETRI_TRANSPARENT</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:51</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a58981d0ca751df6d95c5c841c02c0a97"><div class="ttname"><a href="class_ray_tracing_environment.html#a58981d0ca751df6d95c5c841c02c0a97">RayTracingEnvironment::AddAxisAlignedRectangularSolid</a></div><div class="ttdeci">void AddAxisAlignedRectangularSolid(int id, Vector mincoord, Vector Maxcoord, const Vector &amp;color)</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a417a233d00086503027144348ce6403b"><div class="ttname"><a href="class_ray_tracing_environment.html#a417a233d00086503027144348ce6403b">RayTracingEnvironment::TriangleIndexList</a></div><div class="ttdeci">CUtlVector&lt; int32 &gt; TriangleIndexList</div><div class="ttdef"><b>Definition:</b> raytrace.h:266</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html_a1ee6f4899416bddf15d27aab59117265"><div class="ttname"><a href="struct_tri_intersect_data__t.html#a1ee6f4899416bddf15d27aab59117265">TriIntersectData_t::m_flD</a></div><div class="ttdeci">float m_flD</div><div class="ttdef"><b>Definition:</b> raytrace.h:60</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a59380d83fdbd556ddb43a456e695a8cc"><div class="ttname"><a href="class_ray_tracing_environment.html#a59380d83fdbd556ddb43a456e695a8cc">RayTracingEnvironment::MakeLeafNode</a></div><div class="ttdeci">int MakeLeafNode(int first_tri, int last_tri)</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a964aa02275a0eb7313f41bf161a185b0"><div class="ttname"><a href="class_ray_tracing_environment.html#a964aa02275a0eb7313f41bf161a185b0">RayTracingEnvironment::TriangleColors</a></div><div class="ttdeci">CUtlVector&lt; Vector &gt; TriangleColors</div><div class="ttdef"><b>Definition:</b> raytrace.h:268</div></div>
<div class="ttc" id="struct_ray_tracing_result_html_a9ba143c49906890186d2f627b274d4e8"><div class="ttname"><a href="struct_ray_tracing_result.html#a9ba143c49906890186d2f627b274d4e8">RayTracingResult::HitDistance</a></div><div class="ttdeci">fltx4 HitDistance</div><div class="ttdef"><b>Definition:</b> raytrace.h:208</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a40401284dee5629ccd53779d3e150be6"><div class="ttname"><a href="class_ray_tracing_environment.html#a40401284dee5629ccd53779d3e150be6">RayTracingEnvironment::CalculateTriangleListBounds</a></div><div class="ttdeci">void CalculateTriangleListBounds(int32 const *tris, int ntris, Vector &amp;minout, Vector &amp;maxout)</div></div>
<div class="ttc" id="struct_tri_geometry_data__t_html_a4032456c526bcb6c71cc2e8316ab8d23"><div class="ttname"><a href="struct_tri_geometry_data__t.html#a4032456c526bcb6c71cc2e8316ab8d23">TriGeometryData_t::m_nFlags</a></div><div class="ttdeci">uint8 m_nFlags</div><div class="ttdef"><b>Definition:</b> raytrace.h:86</div></div>
<div class="ttc" id="class_c_utl_vector_html"><div class="ttname"><a href="class_c_utl_vector.html">CUtlVector&lt; CacheOptimizedKDNode &gt;</a></div></div>
<div class="ttc" id="struct_cache_optimized_k_d_node_html_acbda15a7ccd0282653bba43542f87639"><div class="ttname"><a href="struct_cache_optimized_k_d_node.html#acbda15a7ccd0282653bba43542f87639">CacheOptimizedKDNode::SplittingPlaneValue</a></div><div class="ttdeci">float SplittingPlaneValue</div><div class="ttdef"><b>Definition:</b> raytrace.h:147</div></div>
<div class="ttc" id="class_four_rays_html_acd15e6d7f7140e764112917dfbcb6552"><div class="ttname"><a href="class_four_rays.html#acd15e6d7f7140e764112917dfbcb6552">FourRays::Check</a></div><div class="ttdeci">void Check(void) const</div><div class="ttdef"><b>Definition:</b> raytrace.h:25</div></div>
<div class="ttc" id="struct_ray_tracing_single_result_html_a3dfe734b203ba9868fdea1148789c1e1"><div class="ttname"><a href="struct_ray_tracing_single_result.html#a3dfe734b203ba9868fdea1148789c1e1">RayTracingSingleResult::HitID</a></div><div class="ttdeci">int32 HitID</div><div class="ttdef"><b>Definition:</b> raytrace.h:199</div></div>
<div class="ttc" id="struct_tri_geometry_data__t_html_a6052b9822d17e88dbbcb0fb8375943c7"><div class="ttname"><a href="struct_tri_geometry_data__t.html#a6052b9822d17e88dbbcb0fb8375943c7">TriGeometryData_t::m_nTmpData1</a></div><div class="ttdeci">signed char m_nTmpData1</div><div class="ttdef"><b>Definition:</b> raytrace.h:88</div></div>
<div class="ttc" id="raytrace_8h_html_acd732d1657915581548bfcceb5ad1308"><div class="ttname"><a href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308">RayTraceLightingMode_t</a></div><div class="ttdeci">RayTraceLightingMode_t</div><div class="ttdef"><b>Definition:</b> raytrace.h:224</div></div>
<div class="ttc" id="class_ray_stream_html_a2b422db393db5810a5bea94fb3d4c318"><div class="ttname"><a href="class_ray_stream.html#a2b422db393db5810a5bea94fb3d4c318">RayStream::RayStream</a></div><div class="ttdeci">RayStream(void)</div><div class="ttdef"><b>Definition:</b> raytrace.h:240</div></div>
<div class="ttc" id="glfuncs_8h_html_a4dda9406d93310f9bf0dd88ccf6009aa"><div class="ttname"><a href="glfuncs_8h.html#a4dda9406d93310f9bf0dd88ccf6009aa">n</a></div><div class="ttdeci">GLenum a GLhandleARB GLhandleARB b GLhandleARB GLuint const GLcharARB c GLenum GLuint b GLclampf GLclampf GLclampf GLclampf d GLenum GLenum b GLbitfield a GLclampd a GLenum const GLdouble b GLhandleARB a GLenum GLint GLenum GLsizei GLsizei GLsizei GLint GLsizei const GLvoid i GLenum a GLhandleARB a GLsizei const GLuint b GLsizei const GLuint b GLboolean a GLhandleARB GLhandleARB b GLuint a GLenum a GLenum GLuint GLuint GLsizei GLenum const GLvoid f GLenum a GLsizei GLuint b GLsizei GLuint b GLenum GLboolean b GLenum GLdouble b GLhandleARB GLsizei GLsizei GLcharARB d GLhandleARB GLenum GLint c const GLubyte GLenum a GLhandleARB const GLcharARB b GLuint a GLvoid GLenum GLenum b GLenum GLint b GLfloat GLfloat b GLenum GLenum GLsizei const GLvoid d GLenum a GLhandleARB GLsizei const GLcharARB const GLint d GLuint a GLfloat GLfloat b GLenum GLint GLint GLsizei GLsizei GLsizei GLint GLenum GLenum const GLvoid j GLenum GLenum GLint c GLint GLfloat b GLint GLint b GLenum a GLfloat GLfloat GLfloat c GLint GLint GLsizei GLsizei d GLenum a GLint GLenum GLsizei const GLvoid d GLenum GLuint GLsizei const GLfloat d GLenum GLenum GLenum GLenum d GLenum GLint GLenum GLint d GLenum GLuint b GLenum a GLenum GLenum GLenum GLuint d GLenum GLenum GLenum GLuint GLint GLint f GLsizei GLuint b GLint GLint GLint GLint GLint GLint GLint GLint GLbitfield GLenum j GLuint a GLuint a GLsizei GLuint b GLuint GLenum b GLsizei const GLuint b GLuint GLboolean GLboolean GLboolean GLboolean e GLenum GLuint b GLuint GLint GLuint c GLenum GLenum b GLenum GLintptr GLsizeiptr c GLenum GLintptr GLsizeiptr c GLenum GLuint b GLuint GLenum GLint c GLenum GLsizei void c GLenum GLuint b GLenum a GLenum GLenum GLenum GLuint d GLenum GLenum GLenum GLuint GLint GLint f GLsizei GLuint b GLint GLint GLint GLint GLint GLint GLint GLint GLbitfield GLenum j GLsizei const void b GLenum GLenum GLenum GLsizei const GLuint GLboolean f GLuint GLuint b GLuint GLuint b GLuint GLenum GLfloat c GLuint texture GLuint64 handle GLint GLuint64 value GLuint GLint GLuint64 value GLuint64 handle GLsizei n</div><div class="ttdef"><b>Definition:</b> glfuncs.h:241</div></div>
<div class="ttc" id="class_ray_trace_light_html_a80621d971b353c2b995813145a1aa8db"><div class="ttname"><a href="class_ray_trace_light.html#a80621d971b353c2b995813145a1aa8db">RayTraceLight::Position</a></div><div class="ttdeci">FourVectors Position</div><div class="ttdef"><b>Definition:</b> raytrace.h:215</div></div>
<div class="ttc" id="steamtypes_8h_html_a56f1a81c92849566ae864511088eb7e8"><div class="ttname"><a href="steamtypes_8h.html#a56f1a81c92849566ae864511088eb7e8">int32</a></div><div class="ttdeci">int int32</div><div class="ttdef"><b>Definition:</b> steamtypes.h:63</div></div>
<div class="ttc" id="raytrace_8h_html_acd732d1657915581548bfcceb5ad1308abcfb0df2bc21eab24483e8c9a424462d"><div class="ttname"><a href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308abcfb0df2bc21eab24483e8c9a424462d">GLOBAL_LIGHTING</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:227</div></div>
<div class="ttc" id="class_ray_stream_html"><div class="ttname"><a href="class_ray_stream.html">RayStream</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:231</div></div>
<div class="ttc" id="platform_8h_html"><div class="ttname"><a href="platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="struct_tri_geometry_data__t_html_ae8a59ccee5c9b3f14b8768f8b456f932"><div class="ttname"><a href="struct_tri_geometry_data__t.html#ae8a59ccee5c9b3f14b8768f8b456f932">TriGeometryData_t::m_nTmpData0</a></div><div class="ttdeci">signed char m_nTmpData0</div><div class="ttdef"><b>Definition:</b> raytrace.h:87</div></div>
<div class="ttc" id="class_ray_trace_light_html_aa72e6d7ef9b7e7e414868d25b10c1429"><div class="ttname"><a href="class_ray_trace_light.html#aa72e6d7ef9b7e7e414868d25b10c1429">RayTraceLight::Intensity</a></div><div class="ttdeci">FourVectors Intensity</div><div class="ttdef"><b>Definition:</b> raytrace.h:216</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a277af99393026fa0efedc3547b1a2b60"><div class="ttname"><a href="class_ray_tracing_environment.html#a277af99393026fa0efedc3547b1a2b60">RayTracingEnvironment::FlushStreamEntry</a></div><div class="ttdeci">void FlushStreamEntry(RayStream &amp;s, int msk)</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a120511181ff77cbbd2806e3506f5c4a8"><div class="ttname"><a href="class_ray_tracing_environment.html#a120511181ff77cbbd2806e3506f5c4a8">RayTracingEnvironment::AddQuad</a></div><div class="ttdeci">void AddQuad(int32 id, const Vector &amp;v1, const Vector &amp;v2, const Vector &amp;v3, const Vector &amp;v4, const Vector &amp;color)</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html_a2812c0a1089a2e41e5c69b5915510d98"><div class="ttname"><a href="struct_tri_intersect_data__t.html#a2812c0a1089a2e41e5c69b5915510d98">TriIntersectData_t::m_flNy</a></div><div class="ttdeci">float m_flNy</div><div class="ttdef"><b>Definition:</b> raytrace.h:59</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a1fe66aad212e4d0fe8ad4eb9b2d2fe78"><div class="ttname"><a href="class_ray_tracing_environment.html#a1fe66aad212e4d0fe8ad4eb9b2d2fe78">RayTracingEnvironment::InitializeFromLoadedBSP</a></div><div class="ttdeci">void InitializeFromLoadedBSP(void)</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a02e63ba93b8488227e6527bb2c74b7ea"><div class="ttname"><a href="class_ray_tracing_environment.html#a02e63ba93b8488227e6527bb2c74b7ea">RayTracingEnvironment::TriangleMaterials</a></div><div class="ttdeci">CUtlVector&lt; int32 &gt; TriangleMaterials</div><div class="ttdef"><b>Definition:</b> raytrace.h:269</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a8f77a2370493852a6ad9c89c081b8980"><div class="ttname"><a href="class_ray_tracing_environment.html#a8f77a2370493852a6ad9c89c081b8980">RayTracingEnvironment::LightList</a></div><div class="ttdeci">CUtlVector&lt; LightDesc_t &gt; LightList</div><div class="ttdef"><b>Definition:</b> raytrace.h:267</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html"><div class="ttname"><a href="struct_tri_intersect_data__t.html">TriIntersectData_t</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:56</div></div>
<div class="ttc" id="struct_tri_geometry_data__t_html_aa035a8103ec57b0872acd33205123906"><div class="ttname"><a href="struct_tri_geometry_data__t.html#aa035a8103ec57b0872acd33205123906">TriGeometryData_t::Vertex</a></div><div class="ttdeci">FORCEINLINE Vector &amp; Vertex(int idx)</div><div class="ttdef"><b>Definition:</b> raytrace.h:92</div></div>
<div class="ttc" id="steamtypes_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="steamtypes_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdef"><b>Definition:</b> steamtypes.h:17</div></div>
<div class="ttc" id="ssemath_8h_html_a065e29ac1ad6fb4823fe135b8c6fcb79"><div class="ttname"><a href="ssemath_8h.html#a065e29ac1ad6fb4823fe135b8c6fcb79">fltx4</a></div><div class="ttdeci">__m128 fltx4</div><div class="ttdef"><b>Definition:</b> ssemath.h:60</div></div>
<div class="ttc" id="struct_cache_optimized_k_d_node_html_a73517f71f3b7d9b83e84e24059da4ba4"><div class="ttname"><a href="struct_cache_optimized_k_d_node.html#a73517f71f3b7d9b83e84e24059da4ba4">CacheOptimizedKDNode::NumberOfTrianglesInLeaf</a></div><div class="ttdeci">int NumberOfTrianglesInLeaf(void) const</div><div class="ttdef"><b>Definition:</b> raytrace.h:179</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a587540ed467c8e458adbe8f5bd657638"><div class="ttname"><a href="class_ray_tracing_environment.html#a587540ed467c8e458adbe8f5bd657638">RayTracingEnvironment::OptimizedKDTree</a></div><div class="ttdeci">CUtlVector&lt; CacheOptimizedKDNode &gt; OptimizedKDTree</div><div class="ttdef"><b>Definition:</b> raytrace.h:264</div></div>
<div class="ttc" id="class_four_rays_html_a4a961c12cb7b9b944e1d19a6470b39f0"><div class="ttname"><a href="class_four_rays.html#a4a961c12cb7b9b944e1d19a6470b39f0">FourRays::direction</a></div><div class="ttdeci">FourVectors direction</div><div class="ttdef"><b>Definition:</b> raytrace.h:23</div></div>
<div class="ttc" id="struct_ray_tracing_single_result_html_a47e0c501637bc7d5fa3a94a8dbe3c86d"><div class="ttname"><a href="struct_ray_tracing_single_result.html#a47e0c501637bc7d5fa3a94a8dbe3c86d">RayTracingSingleResult::surface_normal</a></div><div class="ttdeci">Vector surface_normal</div><div class="ttdef"><b>Definition:</b> raytrace.h:198</div></div>
<div class="ttc" id="class_four_vectors_html_aa2ce820532078717df705b7a1d3acca6"><div class="ttname"><a href="class_four_vectors.html#aa2ce820532078717df705b7a1d3acca6">FourVectors::Z</a></div><div class="ttdeci">FORCEINLINE const float &amp; Z(int idx) const</div><div class="ttdef"><b>Definition:</b> ssemath.h:2558</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a1ced28bee26c7afdaf9f6933e1e962cc"><div class="ttname"><a href="class_ray_tracing_environment.html#a1ced28bee26c7afdaf9f6933e1e962cc">RayTracingEnvironment::FinishRayStream</a></div><div class="ttdeci">void FinishRayStream(RayStream &amp;s)</div></div>
<div class="ttc" id="glfuncs_8h_html_a5e306c4009248f70fb38b41f1dd404b2"><div class="ttname"><a href="glfuncs_8h.html#a5e306c4009248f70fb38b41f1dd404b2">c</a></div><div class="ttdeci">GLenum a GLhandleARB GLhandleARB b GLhandleARB GLuint const GLcharARB * c</div><div class="ttdef"><b>Definition:</b> glfuncs.h:31</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a88ed2b244130d2ee55ea158c214f9837"><div class="ttname"><a href="class_ray_tracing_environment.html#a88ed2b244130d2ee55ea158c214f9837">RayTracingEnvironment::MakeRoomForTriangles</a></div><div class="ttdeci">void MakeRoomForTriangles(int ntriangles)</div></div>
<div class="ttc" id="struct_cache_optimized_k_d_node_html_a637e076f8dd5d6640f6eb2c605dbc64e"><div class="ttname"><a href="struct_cache_optimized_k_d_node.html#a637e076f8dd5d6640f6eb2c605dbc64e">CacheOptimizedKDNode::LeftChild</a></div><div class="ttdeci">int LeftChild(void) const</div><div class="ttdef"><b>Definition:</b> raytrace.h:168</div></div>
<div class="ttc" id="raytrace_8h_html_a8f6050fbcef4d82b2766502e471ea9cda0e89cdb07846d48ec52abdb4dda81c20"><div class="ttname"><a href="raytrace_8h.html#a8f6050fbcef4d82b2766502e471ea9cda0e89cdb07846d48ec52abdb4dda81c20">FCACHETRI_NEGATIVE_NORMAL</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:52</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_ad51d63b4df65cb6cb4933612889b9d39"><div class="ttname"><a href="class_ray_tracing_environment.html#ad51d63b4df65cb6cb4933612889b9d39">RayTracingEnvironment::BackgroundColor</a></div><div class="ttdeci">FourVectors BackgroundColor</div><div class="ttdef"><b>Definition:</b> raytrace.h:263</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html_a596736e624e0453301c0d9c3c48d4880"><div class="ttname"><a href="struct_tri_intersect_data__t.html#a596736e624e0453301c0d9c3c48d4880">TriIntersectData_t::m_unused0</a></div><div class="ttdeci">uint8 m_unused0</div><div class="ttdef"><b>Definition:</b> raytrace.h:76</div></div>
<div class="ttc" id="class_four_vectors_html_aa4deca2650a8d28e5e26207b000b20da"><div class="ttname"><a href="class_four_vectors.html#aa4deca2650a8d28e5e26207b000b20da">FourVectors::X</a></div><div class="ttdeci">FORCEINLINE const float &amp; X(int idx) const</div><div class="ttdef"><b>Definition:</b> ssemath.h:2547</div></div>
<div class="ttc" id="struct_cache_optimized_k_d_node_html_a1442bc4df32fc7a6154044bed81a31df"><div class="ttname"><a href="struct_cache_optimized_k_d_node.html#a1442bc4df32fc7a6154044bed81a31df">CacheOptimizedKDNode::NodeType</a></div><div class="ttdeci">int NodeType(void) const</div><div class="ttdef"><b>Definition:</b> raytrace.h:156</div></div>
<div class="ttc" id="struct_cache_optimized_k_d_node_html"><div class="ttname"><a href="struct_cache_optimized_k_d_node.html">CacheOptimizedKDNode</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:136</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_ae72fb44bd88a953296d73974dc0e8081"><div class="ttname"><a href="class_ray_tracing_environment.html#ae72fb44bd88a953296d73974dc0e8081">RayTracingEnvironment::ComputeVirtualLightSources</a></div><div class="ttdeci">void ComputeVirtualLightSources(void)</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_aa04742da23fefe374206ed4a3ad6d67f"><div class="ttname"><a href="class_ray_tracing_environment.html#aa04742da23fefe374206ed4a3ad6d67f">RayTracingEnvironment::GetTriangleColor</a></div><div class="ttdeci">const Vector &amp; GetTriangleColor(int triID)</div><div class="ttdef"><b>Definition:</b> raytrace.h:381</div></div>
<div class="ttc" id="struct_cache_optimized_triangle_html_a149e4a22d7accd112c3a94523d376e27"><div class="ttname"><a href="struct_cache_optimized_triangle.html#a149e4a22d7accd112c3a94523d376e27">CacheOptimizedTriangle::m_GeometryData</a></div><div class="ttdeci">TriGeometryData_t m_GeometryData</div><div class="ttdef"><b>Definition:</b> raytrace.h:106</div></div>
<div class="ttc" id="class_ray_trace_light_html"><div class="ttname"><a href="class_ray_trace_light.html">RayTraceLight</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:212</div></div>
<div class="ttc" id="struct_ray_tracing_single_result_html_a55b8adf59f3ad9468a403d4f087ad43d"><div class="ttname"><a href="struct_ray_tracing_single_result.html#a55b8adf59f3ad9468a403d4f087ad43d">RayTracingSingleResult::ray_length</a></div><div class="ttdeci">float ray_length</div><div class="ttdef"><b>Definition:</b> raytrace.h:201</div></div>
<div class="ttc" id="basetypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="basetypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> basetypes.h:42</div></div>
<div class="ttc" id="struct_ray_tracing_single_result_html_a84950e88eb508b52364504d568e12bc8"><div class="ttname"><a href="struct_ray_tracing_single_result.html#a84950e88eb508b52364504d568e12bc8">RayTracingSingleResult::HitDistance</a></div><div class="ttdeci">float HitDistance</div><div class="ttdef"><b>Definition:</b> raytrace.h:200</div></div>
<div class="ttc" id="class_four_rays_html"><div class="ttname"><a href="class_four_rays.html">FourRays</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:19</div></div>
<div class="ttc" id="platform_8h_html_a724fb9f82013c782db5c3c12ea36aac8"><div class="ttname"><a href="platform_8h.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div><div class="ttdeci">#define FORCEINLINE</div><div class="ttdef"><b>Definition:</b> platform.h:617</div></div>
<div class="ttc" id="struct_ray_tracing_result_html"><div class="ttname"><a href="struct_ray_tracing_result.html">RayTracingResult</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:204</div></div>
<div class="ttc" id="struct_cache_optimized_k_d_node_html_a3287a5f8f2953cd4d14f34194f1a41bc"><div class="ttname"><a href="struct_cache_optimized_k_d_node.html#a3287a5f8f2953cd4d14f34194f1a41bc">CacheOptimizedKDNode::Children</a></div><div class="ttdeci">int32 Children</div><div class="ttdef"><b>Definition:</b> raytrace.h:146</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a4953156cd47a5f9481728d79ae8bcb41"><div class="ttname"><a href="class_ray_tracing_environment.html#a4953156cd47a5f9481728d79ae8bcb41">RayTracingEnvironment::m_MaxBound</a></div><div class="ttdeci">Vector m_MaxBound</div><div class="ttdef"><b>Definition:</b> raytrace.h:261</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_aa769594ac5ad04bedbb9d86d2410cf93"><div class="ttname"><a href="class_ray_tracing_environment.html#aa769594ac5ad04bedbb9d86d2410cf93">RayTracingEnvironment::AddTriangle</a></div><div class="ttdeci">void AddTriangle(int32 id, const Vector &amp;v1, const Vector &amp;v2, const Vector &amp;v3, const Vector &amp;color)</div></div>
<div class="ttc" id="mathlib_8h_html"><div class="ttname"><a href="mathlib_8h.html">mathlib.h</a></div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a4b3b3ee247bda997547e69ac15b98e9e"><div class="ttname"><a href="class_ray_tracing_environment.html#a4b3b3ee247bda997547e69ac15b98e9e">RayTracingEnvironment::RenderScene</a></div><div class="ttdeci">void RenderScene(int width, int height, int stride, uint32 *output_buffer, Vector CameraOrigin, Vector ULCorner, Vector URCorner, Vector LLCorner, Vector LRCorner, RayTraceLightingMode_t lightmode=DIRECT_LIGHTING)</div></div>
<div class="ttc" id="class_four_rays_html_aae6345937c1d0c76000ff774f6d7c59e"><div class="ttname"><a href="class_four_rays.html#aae6345937c1d0c76000ff774f6d7c59e">FourRays::origin</a></div><div class="ttdeci">FourVectors origin</div><div class="ttdef"><b>Definition:</b> raytrace.h:22</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html_ab35dd49fa65296ebb6893755cb564b83"><div class="ttname"><a href="struct_tri_intersect_data__t.html#ab35dd49fa65296ebb6893755cb564b83">TriIntersectData_t::m_nCoordSelect1</a></div><div class="ttdeci">uint8 m_nCoordSelect1</div><div class="ttdef"><b>Definition:</b> raytrace.h:69</div></div>
<div class="ttc" id="struct_tri_geometry_data__t_html"><div class="ttname"><a href="struct_tri_geometry_data__t.html">TriGeometryData_t</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:80</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html_af004684538a691df9139a8fbe7d5b04c"><div class="ttname"><a href="struct_tri_intersect_data__t.html#af004684538a691df9139a8fbe7d5b04c">TriIntersectData_t::m_nCoordSelect0</a></div><div class="ttdeci">uint8 m_nCoordSelect0</div><div class="ttdef"><b>Definition:</b> raytrace.h:69</div></div>
<div class="ttc" id="struct_cache_optimized_triangle_html"><div class="ttname"><a href="struct_cache_optimized_triangle.html">CacheOptimizedTriangle</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:100</div></div>
<div class="ttc" id="raytrace_8h_html_a2211fe3bf344a5856c01fbd3cdf0020b"><div class="ttname"><a href="raytrace_8h.html#a2211fe3bf344a5856c01fbd3cdf0020b">KDNODE_STATE_LEAF</a></div><div class="ttdeci">#define KDNODE_STATE_LEAF</div><div class="ttdef"><b>Definition:</b> raytrace.h:134</div></div>
<div class="ttc" id="struct_tri_geometry_data__t_html_a7f7ceb5b82bf0c2fdcc7cbaf7d6384b4"><div class="ttname"><a href="struct_tri_geometry_data__t.html#a7f7ceb5b82bf0c2fdcc7cbaf7d6384b4">TriGeometryData_t::m_VertexCoordData</a></div><div class="ttdeci">float m_VertexCoordData[9]</div><div class="ttdef"><b>Definition:</b> raytrace.h:84</div></div>
<div class="ttc" id="vector_8h_html"><div class="ttname"><a href="vector_8h.html">vector.h</a></div></div>
<div class="ttc" id="struct_cache_optimized_triangle_html_a5b5936a5f9bfaebfb73fc3ab9997eab9"><div class="ttname"><a href="struct_cache_optimized_triangle.html#a5b5936a5f9bfaebfb73fc3ab9997eab9">CacheOptimizedTriangle::m_IntersectData</a></div><div class="ttdeci">TriIntersectData_t m_IntersectData</div><div class="ttdef"><b>Definition:</b> raytrace.h:105</div></div>
<div class="ttc" id="_x_zip_8cpp_html_a06ade067fcfa180fe251ad98d3c23b9b"><div class="ttname"><a href="_x_zip_8cpp.html#a06ade067fcfa180fe251ad98d3c23b9b">Assert</a></div><div class="ttdeci">void Assert(TState &amp;state, bool cond, const char *msg)</div><div class="ttdef"><b>Definition:</b> XZip.cpp:663</div></div>
<div class="ttc" id="struct_cache_optimized_triangle_html_a6309dda3506c993c3ccfaf27633ac7bb"><div class="ttname"><a href="struct_cache_optimized_triangle.html#a6309dda3506c993c3ccfaf27633ac7bb">CacheOptimizedTriangle::m_Data</a></div><div class="ttdeci">union CacheOptimizedTriangle::@120 m_Data</div></div>
<div class="ttc" id="raytrace_8h_html_a8f6050fbcef4d82b2766502e471ea9cd"><div class="ttname"><a href="raytrace_8h.html#a8f6050fbcef4d82b2766502e471ea9cd">triangleflags</a></div><div class="ttdeci">triangleflags</div><div class="ttdef"><b>Definition:</b> raytrace.h:49</div></div>
<div class="ttc" id="class_i_transparent_triangle_callback_html_a6ea8ba68bb5ef7978eac2e12eb6fde47"><div class="ttname"><a href="class_i_transparent_triangle_callback.html#a6ea8ba68bb5ef7978eac2e12eb6fde47">ITransparentTriangleCallback::VisitTriangle_ShouldContinue</a></div><div class="ttdeci">virtual bool VisitTriangle_ShouldContinue(const TriIntersectData_t &amp;triangle, const FourRays &amp;rays, fltx4 *hitMask, fltx4 *b0, fltx4 *b1, fltx4 *b2, int32 hitID)=0</div></div>
<div class="ttc" id="structdface__t_html"><div class="ttname"><a href="structdface__t.html">dface_t</a></div><div class="ttdef"><b>Definition:</b> bspfile.h:703</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a4559a1181331f1ba5635695b662269cf"><div class="ttname"><a href="class_ray_tracing_environment.html#a4559a1181331f1ba5635695b662269cf">RayTracingEnvironment::AddToRayStream</a></div><div class="ttdeci">void AddToRayStream(RayStream &amp;s, Vector const &amp;start, Vector const &amp;end, RayTracingSingleResult *rslt_out)</div></div>
<div class="ttc" id="struct_cache_optimized_triangle_html_a41f83b0fcc70d62177d278bf831f2a95"><div class="ttname"><a href="struct_cache_optimized_triangle.html#a41f83b0fcc70d62177d278bf831f2a95">CacheOptimizedTriangle::ClassifyAgainstAxisSplit</a></div><div class="ttdeci">int ClassifyAgainstAxisSplit(int split_plane, float split_value)</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_aea49de7635d641c1a372e61f3aaaccf6"><div class="ttname"><a href="class_ray_tracing_environment.html#aea49de7635d641c1a372e61f3aaaccf6">RayTracingEnvironment::Flags</a></div><div class="ttdeci">uint32 Flags</div><div class="ttdef"><b>Definition:</b> raytrace.h:259</div></div>
<div class="ttc" id="raytrace_8h_html_acd732d1657915581548bfcceb5ad1308a869fba8a19bc73bf91a3c4c05aa3d950"><div class="ttname"><a href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308a869fba8a19bc73bf91a3c4c05aa3d950">DIRECT_LIGHTING_WITH_SHADOWS</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:226</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html_a2ecc0317818d92b6b036cc08c6c44cbe"><div class="ttname"><a href="struct_tri_intersect_data__t.html#a2ecc0317818d92b6b036cc08c6c44cbe">TriIntersectData_t::m_nTriangleID</a></div><div class="ttdeci">int32 m_nTriangleID</div><div class="ttdef"><b>Definition:</b> raytrace.h:62</div></div>
<div class="ttc" id="struct_cache_optimized_triangle_html_a5f91c4d1002c53879d3db9571453aebd"><div class="ttname"><a href="struct_cache_optimized_triangle.html#a5f91c4d1002c53879d3db9571453aebd">CacheOptimizedTriangle::Vertex</a></div><div class="ttdeci">FORCEINLINE const Vector &amp; Vertex(int idx) const</div><div class="ttdef"><b>Definition:</b> raytrace.h:115</div></div>
<div class="ttc" id="bspfile_8h_html"><div class="ttname"><a href="bspfile_8h.html">bspfile.h</a></div></div>
<div class="ttc" id="class_vector_html"><div class="ttname"><a href="class_vector.html">Vector</a></div><div class="ttdef"><b>Definition:</b> vector.h:66</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_aacc41cb87e6e042a468fd807948cc75d"><div class="ttname"><a href="class_ray_tracing_environment.html#aacc41cb87e6e042a468fd807948cc75d">RayTracingEnvironment::Trace4Rays</a></div><div class="ttdeci">void Trace4Rays(const FourRays &amp;rays, fltx4 TMin, fltx4 TMax, int DirectionSignMask, RayTracingResult *rslt_out, int32 skip_id=-1, ITransparentTriangleCallback *pCallback=NULL)</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html_ae3f913f01b472d08270e84fe2aed9fbd"><div class="ttname"><a href="struct_tri_intersect_data__t.html#ae3f913f01b472d08270e84fe2aed9fbd">TriIntersectData_t::m_flNx</a></div><div class="ttdeci">float m_flNx</div><div class="ttdef"><b>Definition:</b> raytrace.h:59</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_ad43110f234613edae05fa0bb7bb2e623"><div class="ttname"><a href="class_ray_tracing_environment.html#ad43110f234613edae05fa0bb7bb2e623">RayTracingEnvironment::RayTracingEnvironment</a></div><div class="ttdeci">RayTracingEnvironment()</div><div class="ttdef"><b>Definition:</b> raytrace.h:272</div></div>
<div class="ttc" id="utlvector_8h_html"><div class="ttname"><a href="utlvector_8h.html">utlvector.h</a></div></div>
<div class="ttc" id="class_c_utl_block_vector_html"><div class="ttname"><a href="class_c_utl_block_vector.html">CUtlBlockVector&lt; CacheOptimizedTriangle &gt;</a></div></div>
<div class="ttc" id="raytrace_8h_html_acd732d1657915581548bfcceb5ad1308a213e14b3cf3313f038b3056e8465dc22"><div class="ttname"><a href="raytrace_8h.html#acd732d1657915581548bfcceb5ad1308a213e14b3cf3313f038b3056e8465dc22">DIRECT_LIGHTING</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:225</div></div>
<div class="ttc" id="class_four_vectors_html_a154c779bec08f1e08cf2ee6f8f903116"><div class="ttname"><a href="class_four_vectors.html#a154c779bec08f1e08cf2ee6f8f903116">FourVectors::DuplicateVector</a></div><div class="ttdeci">FORCEINLINE void DuplicateVector(Vector const &amp;v)</div><div class="ttdef"><b>Definition:</b> ssemath.h:2432</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a2cd0d058cd27ac03772c0513f25e3873"><div class="ttname"><a href="class_ray_tracing_environment.html#a2cd0d058cd27ac03772c0513f25e3873">RayTracingEnvironment::SetupAccelerationStructure</a></div><div class="ttdeci">void SetupAccelerationStructure(void)</div></div>
<div class="ttc" id="ssemath_8h_html"><div class="ttname"><a href="ssemath_8h.html">ssemath.h</a></div></div>
<div class="ttc" id="struct_cache_optimized_k_d_node_html_a22523319c96f25e4724e33da76d32f8f"><div class="ttname"><a href="struct_cache_optimized_k_d_node.html#a22523319c96f25e4724e33da76d32f8f">CacheOptimizedKDNode::RightChild</a></div><div class="ttdeci">int RightChild(void) const</div><div class="ttdef"><b>Definition:</b> raytrace.h:174</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html_aec5fa72b1dde7d84b5ca47d43f80c687"><div class="ttname"><a href="struct_tri_intersect_data__t.html#aec5fa72b1dde7d84b5ca47d43f80c687">TriIntersectData_t::m_flNz</a></div><div class="ttdeci">float m_flNz</div><div class="ttdef"><b>Definition:</b> raytrace.h:59</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a5db0c2e8fb7ed780522b5d82a46d6073"><div class="ttname"><a href="class_ray_tracing_environment.html#a5db0c2e8fb7ed780522b5d82a46d6073">RayTracingEnvironment::GetTriangleMaterial</a></div><div class="ttdeci">int32 GetTriangleMaterial(int32 triID)</div><div class="ttdef"><b>Definition:</b> raytrace.h:377</div></div>
<div class="ttc" id="class_ray_tracing_environment_html"><div class="ttname"><a href="class_ray_tracing_environment.html">RayTracingEnvironment</a></div><div class="ttdef"><b>Definition:</b> raytrace.h:256</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_aeaca82528032d64f652dc64e5c3cc7d7"><div class="ttname"><a href="class_ray_tracing_environment.html#aeaca82528032d64f652dc64e5c3cc7d7">RayTracingEnvironment::GetTriangle</a></div><div class="ttdeci">const CacheOptimizedTriangle &amp; GetTriangle(int32 triID)</div><div class="ttdef"><b>Definition:</b> raytrace.h:372</div></div>
<div class="ttc" id="struct_cache_optimized_triangle_html_a76194ab8981a563de67410c35ee7aab2"><div class="ttname"><a href="struct_cache_optimized_triangle.html#a76194ab8981a563de67410c35ee7aab2">CacheOptimizedTriangle::Vertex</a></div><div class="ttdeci">FORCEINLINE Vector &amp; Vertex(int idx)</div><div class="ttdef"><b>Definition:</b> raytrace.h:110</div></div>
<div class="ttc" id="struct_ray_tracing_result_html_ad9fefd73beb89105a74a42acb83a7a98"><div class="ttname"><a href="struct_ray_tracing_result.html#ad9fefd73beb89105a74a42acb83a7a98">RayTracingResult::ALIGN16_POST</a></div><div class="ttdeci">ALIGN16 int32 HitIds [4] ALIGN16_POST</div><div class="ttdef"><b>Definition:</b> raytrace.h:207</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html_aca83ca99ae529eb7773760d53a3bf6fc"><div class="ttname"><a href="struct_tri_intersect_data__t.html#aca83ca99ae529eb7773760d53a3bf6fc">TriIntersectData_t::m_ProjectedEdgeEquations</a></div><div class="ttdeci">float m_ProjectedEdgeEquations[6]</div><div class="ttdef"><b>Definition:</b> raytrace.h:64</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a63424a0165eebebb30a1120b2d924e76"><div class="ttname"><a href="class_ray_tracing_environment.html#a63424a0165eebebb30a1120b2d924e76">RayTracingEnvironment::CalculateCostsOfSplit</a></div><div class="ttdeci">float CalculateCostsOfSplit(int split_plane, int32 const *tri_list, int ntris, Vector MinBound, Vector MaxBound, float &amp;split_value, int &amp;nleft, int &amp;nright, int &amp;nboth)</div></div>
<div class="ttc" id="struct_tri_intersect_data__t_html_a4fd686239b867389597fe27dcd0f342a"><div class="ttname"><a href="struct_tri_intersect_data__t.html#a4fd686239b867389597fe27dcd0f342a">TriIntersectData_t::m_nFlags</a></div><div class="ttdeci">uint8 m_nFlags</div><div class="ttdef"><b>Definition:</b> raytrace.h:75</div></div>
<div class="ttc" id="class_ray_tracing_environment_html_a6a3cf0a98f270d7de5a4aea08f436d34"><div class="ttname"><a href="class_ray_tracing_environment.html#a6a3cf0a98f270d7de5a4aea08f436d34">RayTracingEnvironment::OptimizedTriangleList</a></div><div class="ttdeci">CUtlBlockVector&lt; CacheOptimizedTriangle &gt; OptimizedTriangleList</div><div class="ttdef"><b>Definition:</b> raytrace.h:265</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f832923ad3cb060bc87ad85e68b8a1c3.html">public</a></li><li class="navelem"><a class="el" href="raytrace_8h.html">raytrace.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
