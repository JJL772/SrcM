<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Source SDK 2013: game/client/particlemgr.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Source SDK 2013
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('particlemgr_8h_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">particlemgr.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="particlemgr_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//========= Copyright Valve Corporation, All rights reserved. ============//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Purpose: </span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// $NoKeywords: $</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===========================================================================//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// This module implements the particle manager for the client DLL.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// In a nutshell, to create your own effect, implement the ParticleEffect </span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// interface and call CParticleMgr::AddEffect to add your effect. Then you can </span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// add particles and simulate and render them.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">Particle manager documentation</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">All particle effects are managed by a class called CParticleMgr. It tracks </span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">the list of particles, manages their materials, sorts the particles, and</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">has callbacks to render them.</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">Conceptually, CParticleMgr is NOT part of VEngine&#39;s entity system. It does</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">not care about entities, only particle effects. Usually, the two are implemented</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">together, but you should be aware the CParticleMgr talks to you through its</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">own interfaces and does not talk to entities. Thus, it is possible to have</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">particle effects that are not entities.</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">To make a particle effect, you need two things: </span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">1. An implementation of the IParticleEffect interface. This is how CParticleMgr </span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">   talks to you for things like rendering and updating your effect.</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">2. A (member) variable of type CParticleEffectBinding. This allows CParticleMgr to </span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">   store its internal data associated with your effect.</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">Once you have those two things, you call CParticleMgr::AddEffect and pass them</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">both in. You will then get updates through IParticleEffect::Update, and you will</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">be asked to render your particles with IParticleEffect::SimulateAndRender.</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">When you want to remove the effect, call CParticleEffectBinding::SetRemoveFlag(), which</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">tells CParticleMgr to remove the effect next chance it gets.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">Example class:</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">    class CMyEffect : public IParticleEffect</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">    {</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">    public:</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">        // Call this to start the effect by adding it to the particle manager.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">        void            Start()</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">            ParticleMgr()-&gt;AddEffect( &amp;m_ParticleEffect, this );</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">        // implementation of IParticleEffect functions go here...</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">    public:</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">        CParticleEffectBinding  m_ParticleEffect;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">    };</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">How the particle effects are integrated with the entity system</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">There are two helper classes that you can use to create particles for your</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">entities. Each one is useful under different conditions.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">1. CSimpleEmitter is a class that does some of the dirty work of using particles.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">   If you want, you can just instantiate one of these with CSimpleEmitter::Create</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">   and call its AddParticle functions to add particles. When you are done and </span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">   want to &#39;free&#39; it, call its Release function rather than deleting it, and it</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">   will wait until all of its particles have gone away before removing itself</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">   (so you don&#39;t have to write code to wait for all of the particles to go away).</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">   In most cases, it is the easiest and most clear to use CSimpleEmitter or</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">   derive a class from it, then use that class from inside an entity that wants</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">   to make particles.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">   CSimpleEmitter and derived classes handle adding themselves to the particle</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">   manager, tracking how many particles in the effect are active, and </span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">   rendering the particles.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">   CSimpleEmitter has code to simulate and render particles in a generic fashion,</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">   but if you derive a class from it, you can override some of its behavior</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">   with virtuals like UpdateAlpha, UpdateScale, UpdateColor, etc..</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">   Example code:</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">        CSimpleEmitter *pEmitter = CSimpleEmitter::Create();</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">        </span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">        CEffectMaterialHandle hMaterial = pEmitter-&gt;GetCEffectMaterial( &quot;mymaterial&quot; );</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">        </span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">        for( int i=0; i &lt; 100; i++ )</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">            pEmitter-&gt;AddParticle( hMaterial, RandomVector(0,10), 4 );</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">        pEmitter-&gt;Release();</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">2. Some older effects derive from C_BaseParticleEffect and implement an entity </span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">   and a particle system at the same time. This gets nasty and is not encouraged anymore.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#ifndef PARTICLEMGR_H</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#define PARTICLEMGR_H</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#include &quot;materialsystem/imaterial.h&quot;</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#include &quot;materialsystem/imaterialsystem.h&quot;</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#include &quot;mathlib/vector.h&quot;</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#include &quot;mathlib/vmatrix.h&quot;</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#include &quot;mathlib/mathlib.h&quot;</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#include &quot;iclientrenderable.h&quot;</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="clientleafsystem_8h.html">clientleafsystem.h</a>&quot;</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#include &quot;tier0/fasttimer.h&quot;</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#include &quot;utllinkedlist.h&quot;</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#include &quot;utldict.h&quot;</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#include &lt;typeinfo.h&gt;</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#include &lt;typeinfo&gt;</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#include &quot;tier1/utlintrusivelist.h&quot;</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#include &quot;tier1/utlstring.h&quot;</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">// forward declarations</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">class </span><a class="code" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keyword">class </span><a class="code" href="class_i_client_particle_listener.html">IClientParticleListener</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keyword">struct </span><a class="code" href="struct_particle.html">Particle</a>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keyword">class </span><a class="code" href="class_particle_draw.html">ParticleDraw</a>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword">class </span>CMeshBuilder;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keyword">class </span>CUtlMemoryPool;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_effect_material.html">CEffectMaterial</a>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_particle_simulate_iterator.html">CParticleSimulateIterator</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_particle_render_iterator.html">CParticleRenderIterator</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keyword">class </span>IThreadPool;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="keyword">class </span>CParticleSystemDefinition;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_particle_mgr.html">CParticleMgr</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_new_particle_effect.html">CNewParticleEffect</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="keyword">class </span>CParticleCollection;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#ae824a0359783ec68b199d5012c1bfd02">  150</a></span>&#160;<span class="preprocessor">#define INVALID_MATERIAL_HANDLE NULL</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">// Various stats, disabled</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">// extern int           g_nParticlesDrawn;</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">// extern CCycleCount   g_ParticleTimer;</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_particle_sub_texture.html">CParticleSubTexture</a>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_particle_sub_texture_group.html">CParticleSubTextureGroup</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">// The basic particle description; all particles need to inherit from this.</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="struct_particle.html">  166</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_particle.html">Particle</a></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">  168</a></span>&#160;    <a class="code" href="struct_particle.html">Particle</a> *<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a>, *<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// Which sub texture this particle uses (so we can get at the tcoord mins and maxs).</span></div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="struct_particle.html#a97ed5f43a50e994ad8ed995e89ca4b9b">  171</a></span>&#160;    <a class="code" href="class_c_particle_sub_texture.html">CParticleSubTexture</a> *<a class="code" href="struct_particle.html#a97ed5f43a50e994ad8ed995e89ca4b9b">m_pSubTexture</a>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// If m_Pos isn&#39;t used to store the world position, then implement IParticleEffect::GetParticlePosition()</span></div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="struct_particle.html#a66af8d4e49cac707723e91a9ab2f5afa">  174</a></span>&#160;    Vector <a class="code" href="struct_particle.html#a66af8d4e49cac707723e91a9ab2f5afa">m_Pos</a>;           <span class="comment">// Position of the particle in world space</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;};</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">// This is the CParticleMgr&#39;s reference to a material in the material system.</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">// Particles are sorted by material.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">// This indexes CParticleMgr::m_SubTextures.</span></div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a4a6229bbb22331f27e634f75f9547996">  184</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="class_c_particle_sub_texture.html">CParticleSubTexture</a>* <a class="code" href="particlemgr_8h.html#a4a6229bbb22331f27e634f75f9547996">PMaterialHandle</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">// Each effect stores a list of particles associated with each material. The list is </span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">// hashed on the IMaterial pointer.</span></div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="class_c_effect_material.html">  188</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_c_effect_material.html">CEffectMaterial</a></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="class_c_effect_material.html#a67578901103390576fdd131440a1a5c7">CEffectMaterial</a>();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// This provides the material that gets bound for this material in this effect.</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// There can be multiple subtextures all within the same CEffectMaterial.</span></div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="class_c_effect_material.html#a6c143e605a2a8543eec46fef9e34e231">  196</a></span>&#160;    <a class="code" href="class_c_particle_sub_texture_group.html">CParticleSubTextureGroup</a> *<a class="code" href="class_c_effect_material.html#a6c143e605a2a8543eec46fef9e34e231">m_pGroup</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    </div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="class_c_effect_material.html#a58063e7d646a1e243cf08fbf7c0316f0">  198</a></span>&#160;    <a class="code" href="struct_particle.html">Particle</a> <a class="code" href="class_c_effect_material.html#a58063e7d646a1e243cf08fbf7c0316f0">m_Particles</a>;</div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="class_c_effect_material.html#a02262d1eda4bde40ac0dc42c7beb4b98">  199</a></span>&#160;    <a class="code" href="class_c_effect_material.html">CEffectMaterial</a> *<a class="code" href="class_c_effect_material.html#a02262d1eda4bde40ac0dc42c7beb4b98">m_pHashedNext</a>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;};</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="class_c_particle_sub_texture_group.html">  203</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_c_particle_sub_texture_group.html">CParticleSubTextureGroup</a></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <a class="code" href="class_c_particle_sub_texture_group.html#a088028d870dc89f0b42737843de86f8f">CParticleSubTextureGroup</a>();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <a class="code" href="class_c_particle_sub_texture_group.html#a9bc29fab5d9201618ebff0f59ef68717">~CParticleSubTextureGroup</a>();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// Even though each of the subtextures has its own material, they should all basically be </span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// the same exact material and just use different texture coordinates, so this is the </span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// material of the first subtexture that is bound.</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// This is gotten from GetMaterialPage().</span></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="class_c_particle_sub_texture_group.html#aa2a69dd865bc390d6d51cb6c71ce2e84">  214</a></span>&#160;    IMaterial   *<a class="code" href="class_c_particle_sub_texture_group.html#aa2a69dd865bc390d6d51cb6c71ce2e84">m_pPageMaterial</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;};</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">// Precalculated data for each material used for particles.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">// This allows us to put multiple subtextures into one VTF and sort them against each other.</span></div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="class_c_particle_sub_texture.html">  219</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_c_particle_sub_texture.html">CParticleSubTexture</a></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="class_c_particle_sub_texture.html#a4eada3df7c2c1f97b1f00a68f0613b74">CParticleSubTexture</a>();</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="class_c_particle_sub_texture.html#ac1183d49a5cabf25e4bf5bd9d479319c">  224</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="class_c_particle_sub_texture.html#ac1183d49a5cabf25e4bf5bd9d479319c">m_tCoordMins</a>[2];  <span class="comment">// bbox in texel space that this particle material uses.</span></div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="class_c_particle_sub_texture.html#addd335519b79cdbb75bc56ee211470ec">  225</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="class_c_particle_sub_texture.html#addd335519b79cdbb75bc56ee211470ec">m_tCoordMaxs</a>[2];  <span class="comment">// Specified in the SubTextureMins/SubTextureMaxs parameter in the materials.</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// Which group does this subtexture belong to?</span></div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="class_c_particle_sub_texture.html#a52a81031728040fbf94fa1d0cdb8d936">  228</a></span>&#160;    <a class="code" href="class_c_particle_sub_texture_group.html">CParticleSubTextureGroup</a> *<a class="code" href="class_c_particle_sub_texture.html#a52a81031728040fbf94fa1d0cdb8d936">m_pGroup</a>;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="class_c_particle_sub_texture.html#aa553a3fede2c99c4265d2893b9e709cc">  229</a></span>&#160;    <a class="code" href="class_c_particle_sub_texture_group.html">CParticleSubTextureGroup</a> <a class="code" href="class_c_particle_sub_texture.html#aa553a3fede2c99c4265d2893b9e709cc">m_DefaultGroup</a>;    <span class="comment">// This is used as the group if a particle&#39;s material</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                                <span class="comment">// isn&#39;t using a group.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordtype">char</span> *m_szDebugName;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    </div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="class_c_particle_sub_texture.html#a62e8e6cb302cedf8f12d2fd64900a149">  236</a></span>&#160;    IMaterial *<a class="code" href="class_c_particle_sub_texture.html#a62e8e6cb302cedf8f12d2fd64900a149">m_pMaterial</a>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;};</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">// Particle simulation list, used to determine what particles to simulate and how.</span></div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="struct_particle_sim_list_entry__t.html">  240</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_particle_sim_list_entry__t.html">ParticleSimListEntry_t</a></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;{</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="struct_particle_sim_list_entry__t.html#abf9f2ee9807cdc35d0988c2adc677ad0">  242</a></span>&#160;    <a class="code" href="class_c_new_particle_effect.html">CNewParticleEffect</a>* <a class="code" href="struct_particle_sim_list_entry__t.html#abf9f2ee9807cdc35d0988c2adc677ad0">m_pNewParticleEffect</a>;</div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="struct_particle_sim_list_entry__t.html#a82f812ec7d4924cdef1cecd1b04e9a85">  243</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="struct_particle_sim_list_entry__t.html#a82f812ec7d4924cdef1cecd1b04e9a85">m_bBoundingBoxOnly</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;};</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">// interface IParticleEffect:</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// This is the interface that particles effects must implement. The effect is </span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">// responsible for starting itself and calling CParticleMgr::AddEffect, then it </span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">// will get the callbacks it needs to simulate and render the particles.</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;abstract_class <a class="code" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a></div><div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">  256</a></span>&#160;{</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">// Overridables.</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    </div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keyword">virtual</span>         ~<a class="code" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a>() {}</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    </div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// Called at the beginning of a frame to precalculate data for rendering </span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// the particles. If you manage your own list of particles and want to </span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// simulate them all at once, you can do that here and just render them in </span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// the SimulateAndRender call.</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="c__te__legacytempents_8h.html#a31464c6a1dd2e5acc8b86f39b6e67fd7">Update</a>( <span class="keywordtype">float</span> fTimeDelta ) {}</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    </div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// Called once for the entire effect before the batch of SimulateAndRender() calls.</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// For particle systems using FLAGS_CAMERASPACE (the default), effectMatrix transforms the particles from</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// world space into camera space. You can change this matrix if you want your particles relative to something</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// else like an attachment&#39;s space.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    StartRender( VMatrix &amp;effectMatrix ) {}</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// Simulate the particles.</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span>    ShouldSimulate() <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="particlemgr_8h.html#ace000d849716e4396c406e80feb99c99">SetShouldSimulate</a>( <span class="keywordtype">bool</span> bSim ) = 0;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="particlemgr_8h.html#a69cd1dabe58a4a97a6390c04a55965e9">SimulateParticles</a>( <a class="code" href="class_c_particle_simulate_iterator.html">CParticleSimulateIterator</a> *pIterator ) = 0;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">// Render the particles.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="particlemgr_8h.html#afbebd21e58ae6c3d147011295e19e084">RenderParticles</a>( <a class="code" href="class_c_particle_render_iterator.html">CParticleRenderIterator</a> *pIterator ) = 0;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// Implementing this is optional. It is called when an effect is removed. It is useful if</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">// you hold onto pointers to the particles you created (so when this is called, you should</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// clean up your data so you don&#39;t reference the particles again).</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// NOTE: after calling this, the particle manager won&#39;t touch the IParticleEffect</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// or its associated CParticleEffectBinding anymore.</span></div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a6da21b85c78199d14d3ad5f70549e832">  287</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="particlemgr_8h.html#a6da21b85c78199d14d3ad5f70549e832">NotifyRemove</a>() {}</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// This method notifies the effect a particle is about to be deallocated.</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// Implementations should *not* actually deallocate it.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// NOTE: The particle effect&#39;s GetNumActiveParticles is updated BEFORE this is called</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">//       so if GetNumActiveParticles returns 0, then you know this is the last particle</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">//       in the system being removed.</span></div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a55465ddff94aea59329a0389c71c5ebb">  294</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="particlemgr_8h.html#a55465ddff94aea59329a0389c71c5ebb">NotifyDestroyParticle</a>( <a class="code" href="struct_particle.html">Particle</a>* pParticle ) {}</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// Fill in the origin used to sort this entity.</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// This is a world space position.</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keyword">virtual</span> <span class="keyword">const</span> Vector &amp;<a class="code" href="particlemgr_8h.html#af0b120c2a84add92d448deaa2c24c0e6">GetSortOrigin</a>() = 0;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// Fill in the origin used to sort this entity.</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">// TODO: REMOVE THIS. ALL PARTICLE SYSTEMS SHOULD EITHER SET m_Pos IN CONJUNCTION WITH THE</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">// PARTICLE_LOCALSPACE FLAG, OR DO SETBBOX THEMSELVES.</span></div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a882090ecb0689db136a7d1cbef3c106e">  303</a></span>&#160;    <span class="keyword">virtual</span> <span class="keyword">const</span> Vector *<a class="code" href="particlemgr_8h.html#a882090ecb0689db136a7d1cbef3c106e">GetParticlePosition</a>( <a class="code" href="struct_particle.html">Particle</a> *pParticle ) { <span class="keywordflow">return</span> &amp;pParticle-&gt;<a class="code" href="struct_particle.html#a66af8d4e49cac707723e91a9ab2f5afa">m_Pos</a>; }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a6672ea9fd3d6acde9093f8279da8bc9e">  305</a></span>&#160;    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="particlemgr_8h.html#a6672ea9fd3d6acde9093f8279da8bc9e">GetEffectName</a>() { <span class="keywordflow">return</span> <span class="stringliteral">&quot;???&quot;</span>; } </div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;};</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a88918668d535f718115cba4fe05589e6">  308</a></span>&#160;<span class="preprocessor">#define REGISTER_EFFECT( effect )                                                       \</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">    IParticleEffect* effect##_Factory()                                                 \</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor">    {                                                                                   \</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="preprocessor">        return new effect;                                                              \</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">    }                                                                                   \</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">    struct effect##_RegistrationHelper                                                  \</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">    {                                                                                   \</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">        effect##_RegistrationHelper()                                                   \</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">        {                                                                               \</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="preprocessor">            ParticleMgr()-&gt;RegisterEffect( typeid( effect ).name(), effect##_Factory ); \</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="preprocessor">        }                                                                               \</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">    };                                                                                  \</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">    static effect##_RegistrationHelper g_##effect##_RegistrationHelper</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a8dd6ccec2433b70627ba2b5493f3a856">  322</a></span>&#160;<span class="preprocessor">#define REGISTER_EFFECT_USING_CREATE( effect )                                          \</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">    IParticleEffect* effect##_Factory()                                                 \</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">    {                                                                                   \</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">        return effect::Create( #effect ).GetObject();                                   \</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">    }                                                                                   \</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">    struct effect##_RegistrationHelper                                                  \</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor">    {                                                                                   \</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">        effect##_RegistrationHelper()                                                   \</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="preprocessor">        {                                                                               \</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor">            ParticleMgr()-&gt;RegisterEffect( typeid( effect ).name(), effect##_Factory ); \</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">        }                                                                               \</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="preprocessor">    };                                                                                  \</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="preprocessor">    static effect##_RegistrationHelper g_##effect##_RegistrationHelper</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">// In order to create a particle effect, you must have one of these around and</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">// implement IParticleEffect. Pass them both into CParticleMgr::AddEffect and you</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">// are good to go.</span></div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html">  340</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_c_particle_effect_binding.html">CParticleEffectBinding</a> : <span class="keyword">public</span> CDefaultClientRenderable</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a33a1e3703255d174a18dc7cb78cebc5b">  342</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_c_particle_mgr.html">CParticleMgr</a>;</div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a431743d425ee5541829bdfcd0f8a7cd1">  343</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_c_particle_simulate_iterator.html">CParticleSimulateIterator</a>;</div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#ab0c46cbed5b7c987ee701075cd191713">  344</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_c_new_particle_effect.html">CNewParticleEffect</a>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="class_c_particle_effect_binding.html#ac7e4b8469ac8347d7f724678a2a83c50">CParticleEffectBinding</a>();</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="class_c_particle_effect_binding.html#a267cd55381f8dd68ee72d52c2338d9b5">~CParticleEffectBinding</a>();</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    </div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">// Helper functions to setup, add particles, etc..</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Simulate all the particles.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#a6d91fd873d4920581d06d876b6e09c3d">SimulateParticles</a>( <span class="keywordtype">float</span> flTimeDelta );</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// Use this to specify materials when adding particles. </span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// Returns the index of the material it found or added.</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// Returns INVALID_MATERIAL_HANDLE if it couldn&#39;t find or add a material.</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="class_c_particle_sub_texture.html">PMaterialHandle</a> <a class="code" href="class_c_particle_effect_binding.html#a539db0e53d344fc82de253c0de58d7ae">FindOrAddMaterial</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *pMaterialName );</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// Allocate particles. The Particle manager will automagically</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// deallocate them when the IParticleEffect SimulateAndRender() method </span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// returns false. The first argument is the size of the particle</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// structure in bytes</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="struct_particle.html">Particle</a>*       <a class="code" href="class_c_particle_effect_binding.html#a214f6c9ff2250f31f8e243538150217e">AddParticle</a>( <span class="keywordtype">int</span> sizeInBytes, <a class="code" href="class_c_particle_sub_texture.html">PMaterialHandle</a> pMaterial );</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// This is an optional call you can make if you want to manually manage the effect&#39;s</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// bounding box. Normally, the bounding box is managed automatically, but in certain</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">// cases it is more efficient to set it manually.</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// Note: this is a WORLD SPACE bounding box, even if you&#39;ve used SetLocalSpaceTransform.</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// After you make this call, the particle manager will no longer update the bounding</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// box automatically if bDisableAutoUpdate is true.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#aa05c6fa6b612bf7ca4d96e12443c0265">SetBBox</a>( <span class="keyword">const</span> Vector &amp;bbMin, <span class="keyword">const</span> Vector &amp;bbMax, <span class="keywordtype">bool</span> bDisableAutoUpdate = <span class="keyword">true</span> );</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// gets a copy of the current bbox mins/maxs in worldspace</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#a3edaef4b85c2a14d735599379fd5f53c">GetWorldspaceBounds</a>( Vector *pMins, Vector *pMaxs );</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">// This tells the particle manager that your particles are transformed by the specified matrix.</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// That way, it can transform the bbox defined by Particle::m_Pos into world space correctly.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// It also sets up the matrix returned by CParticleMgr::GetModelView() to include this matrix, so you</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// can do TransformParticle with it like any other particle system.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keyword">const</span> matrix3x4_t&amp;  <a class="code" href="class_c_particle_effect_binding.html#a57ba4f933a4b3a85a675a61d7d2cb7fa">GetLocalSpaceTransform</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#a1712f44a114c6d256007884afed6b0ec">SetLocalSpaceTransform</a>( <span class="keyword">const</span> matrix3x4_t &amp;transform );</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">// This expands the bbox to contain the specified point. Returns true if bbox changed</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="class_c_particle_effect_binding.html#a12924ee84052a18dbe03baa55f67e5e2">EnlargeBBoxToContain</a>( <span class="keyword">const</span> Vector &amp;pt );</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// The EZ particle singletons use this - they don&#39;t want to be added to all the leaves and drawn through the</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// leaf system - they are specifically told to draw each frame at a certain point.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#ae208489bf8cc47ac3e67f6357c04e6d0">SetDrawThruLeafSystem</a>( <span class="keywordtype">int</span> bDraw );</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">// Some view model particle effects want to be drawn right before the view model (after everything else is </span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">// drawn).</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#ab45dad5782c1a2536129d59e04172268">SetDrawBeforeViewModel</a>( <span class="keywordtype">int</span> bDraw );</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">// Call this to have the effect removed whenever it safe to do so.</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// This is a lot safer than calling CParticleMgr::RemoveEffect.</span></div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a882dd8cb797b10dac580c040fe1b22cc">  401</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="class_c_particle_effect_binding.html#a882dd8cb797b10dac580c040fe1b22cc">GetRemoveFlag</a>()                                 { <span class="keywordflow">return</span> GetFlag( FLAGS_REMOVE ); }</div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a18e53fb38b10f8fca3d97019ad27d5ca">  402</a></span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#a18e53fb38b10f8fca3d97019ad27d5ca">SetRemoveFlag</a>()                                 { SetFlag( FLAGS_REMOVE, 1 ); }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// Set this flag to tell the particle manager to simulate your particles even</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">// if the particle system isn&#39;t visible. Tempents and fast effects can always use</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">// this if they want since they want to simulate their particles until they go away.</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// This flag is ON by default.</span></div><div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#ae16d5e06d218085a7b430e2bfb4dfcdc">  408</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="class_c_particle_effect_binding.html#ae16d5e06d218085a7b430e2bfb4dfcdc">GetAlwaysSimulate</a>()                             { <span class="keywordflow">return</span> GetFlag( FLAGS_ALWAYSSIMULATE ); }</div><div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#ab15b35c01e9c388018b5c5693ff694d4">  409</a></span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#ab15b35c01e9c388018b5c5693ff694d4">SetAlwaysSimulate</a>( <span class="keywordtype">int</span> bAlwaysSimulate )        { SetFlag( FLAGS_ALWAYSSIMULATE, bAlwaysSimulate ); }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a32d18fc1c4f42f30c323e9e7f65f0271">  411</a></span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#a32d18fc1c4f42f30c323e9e7f65f0271">SetIsNewParticleSystem</a>( <span class="keywordtype">void</span> )      { SetFlag( FLAGS_NEW_PARTICLE_SYSTEM, 1 ); }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// Set if the effect was drawn the previous frame.</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// This can be used by particle effect classes</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// to decide whether or not they want to spawn</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// new particles - if they weren&#39;t drawn, then</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">// they can &#39;freeze&#39; the particle system to avoid</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">// overhead.</span></div><div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a9d153bf3ce643d51895dc8840ccbef5e">  418</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="class_c_particle_effect_binding.html#a9d153bf3ce643d51895dc8840ccbef5e">WasDrawnPrevFrame</a>()                             { <span class="keywordflow">return</span> GetFlag( FLAGS_DRAWN_PREVFRAME ); }</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#ac2d054ffa7da1d8d1dce142049e861e1">  419</a></span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#ac2d054ffa7da1d8d1dce142049e861e1">SetWasDrawnPrevFrame</a>( <span class="keywordtype">int</span> bWasDrawnPrevFrame )  { SetFlag( FLAGS_DRAWN_PREVFRAME, bWasDrawnPrevFrame ); }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// When the effect is in camera space mode, then the transforms are setup such that</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// the particle vertices are specified in camera space (in CParticleDraw) rather than world space. </span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">// This makes it faster to specify the particles - you only have to transform the center </span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// by CParticleMgr::GetModelView then add to X and Y to build the quad.</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// Effects that want to specify verts (in CParticleDraw) in world space should set this to false and</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// ignore CParticleMgr::GetModelView.</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// Camera space mode is ON by default.</span></div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#aa534e9e3f28e378e64c211a0e550f92f">  431</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="class_c_particle_effect_binding.html#aa534e9e3f28e378e64c211a0e550f92f">IsEffectCameraSpace</a>()                           { <span class="keywordflow">return</span> GetFlag( FLAGS_CAMERASPACE ); }</div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a177eff74cb05b15ddf939a6b2e9ee71f">  432</a></span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#a177eff74cb05b15ddf939a6b2e9ee71f">SetEffectCameraSpace</a>( <span class="keywordtype">int</span> bCameraSpace )        { SetFlag( FLAGS_CAMERASPACE, bCameraSpace ); }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="comment">// This tells it whether or not to apply the local transform to the matrix returned by CParticleMgr::GetModelView().</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// Usually, you&#39;ll want this, so you can just say TransformParticle( pMgr-&gt;GetModelView(), vPos ), but you may want</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// to manually apply your local transform before saying TransformParticle.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// This is ON by default.</span></div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a4651f0205e5633f006a5e850ce35e0be">  439</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="class_c_particle_effect_binding.html#a4651f0205e5633f006a5e850ce35e0be">GetAutoApplyLocalTransform</a>()<span class="keyword"> const              </span>{ <span class="keywordflow">return</span> GetFlag( FLAGS_AUTOAPPLYLOCALTRANSFORM ); }</div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a023b1d609a5655311acea15344e64d24">  440</a></span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#a023b1d609a5655311acea15344e64d24">SetAutoApplyLocalTransform</a>( <span class="keywordtype">int</span> b )             { SetFlag( FLAGS_AUTOAPPLYLOCALTRANSFORM, b ); }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// If this is true, then the bbox is calculated from particle positions. This works</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// fine if you always simulate (SetAlwaysSimulateFlag) so the system can become visible</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">// if it moves into the PVS. If you don&#39;t use this, then you should call SetBBox at </span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// least once to tell the particle manager where your entity is.</span></div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#aa069d272d0eb5d20fea8de1d6106fca4">  446</a></span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="class_c_particle_effect_binding.html#aa069d272d0eb5d20fea8de1d6106fca4">GetAutoUpdateBBox</a>()                         { <span class="keywordflow">return</span> GetFlag( FLAGS_AUTOUPDATEBBOX ); }</div><div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a212f36e67baedb7e2a8eee64a8b02a43">  447</a></span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#a212f36e67baedb7e2a8eee64a8b02a43">SetAutoUpdateBBox</a>( <span class="keywordtype">int</span> bAutoUpdate )        { SetFlag( FLAGS_AUTOUPDATEBBOX, bAutoUpdate ); }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">// Get the current number of particles in the effect.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="class_c_particle_effect_binding.html#a375ec10506061b279912e4f2a63cd9da">GetNumActiveParticles</a>();</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">// The is the max size of the particles for use in bounding computation</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#a5e7c092b44ff7b4595fbaf6c3a765618">SetParticleCullRadius</a>( <span class="keywordtype">float</span> flMaxParticleRadius );</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">// Build a list of all active particles, returns actual count filled in</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="class_c_particle_effect_binding.html#a36984e0b7950b2149595ea2d10e1cd07">GetActiveParticleList</a>( <span class="keywordtype">int</span> nCount, <a class="code" href="struct_particle.html">Particle</a> **ppParticleList );</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// detect origin/bbox changes and update leaf system if necessary</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_effect_binding.html#aee41118d97488455db4dbc16ba83e9bb">DetectChanges</a>();</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">// Change flags..</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordtype">void</span>            SetFlag( <span class="keywordtype">int</span> flag, <span class="keywordtype">int</span> bOn )    { <span class="keywordflow">if</span>( bOn ) m_Flags |= flag; <span class="keywordflow">else</span> m_Flags &amp;= ~flag; }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordtype">int</span>             GetFlag( <span class="keywordtype">int</span> flag )<span class="keyword"> const       </span>{ <span class="keywordflow">return</span> m_Flags &amp; flag; }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="iclientmode_8h.html#a5368a4a3fff770682cf257e81707d9f0">Init</a>( <a class="code" href="class_c_particle_mgr.html">CParticleMgr</a> *pMgr, <a class="code" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a> *pSim );</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordtype">void</span>            Term();</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">// Get rid of the specified particle.</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordtype">void</span>            RemoveParticle( <a class="code" href="struct_particle.html">Particle</a> *pParticle );</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordtype">void</span>            StartDrawMaterialParticles(</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                        <a class="code" href="class_c_effect_material.html">CEffectMaterial</a> *pMaterial,</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                        <span class="keywordtype">float</span> flTimeDelta,</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                        IMesh* &amp;pMesh,</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        CMeshBuilder &amp;builder,</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        <a class="code" href="class_particle_draw.html">ParticleDraw</a> &amp;particleDraw,</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                        <span class="keywordtype">bool</span> bWireframe );</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordtype">int</span>             DrawMaterialParticles( </div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                        <span class="keywordtype">bool</span> bBucketSort,</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        <a class="code" href="class_c_effect_material.html">CEffectMaterial</a> *pMaterial, </div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                        <span class="keywordtype">float</span> flTimeDelta,</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                        <span class="keywordtype">bool</span> bWireframe</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                         );</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordtype">void</span>            GrowBBoxFromParticlePositions( <a class="code" href="class_c_effect_material.html">CEffectMaterial</a> *pMaterial, <span class="keywordtype">bool</span> &amp;bboxSet, Vector &amp;bbMin, Vector &amp;bbMax );</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordtype">void</span>            RenderStart( VMatrix &amp;mTempModel, VMatrix &amp;mTempView );</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordtype">void</span>            RenderEnd( VMatrix &amp;mModel, VMatrix &amp;mView );</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordtype">void</span>            BBoxCalcStart( Vector &amp;bbMin, Vector &amp;bbMax );</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordtype">void</span>            BBoxCalcEnd( <span class="keywordtype">bool</span> bboxSet, Vector &amp;bbMin, Vector &amp;bbMax );</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    </div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordtype">void</span>            DoBucketSort( </div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                        <a class="code" href="class_c_effect_material.html">CEffectMaterial</a> *pMaterial, </div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                        <span class="keywordtype">float</span> *zCoords, </div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                        <span class="keywordtype">int</span> nZCoords,</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                        <span class="keywordtype">float</span> minZ,</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                        <span class="keywordtype">float</span> maxZ );</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordtype">int</span>             GetRemovalInProgressFlag()                  { <span class="keywordflow">return</span> GetFlag( FLAGS_REMOVALINPROGRESS ); }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordtype">void</span>            SetRemovalInProgressFlag()                  { SetFlag( FLAGS_REMOVALINPROGRESS, 1 ); }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// BBox is recalculated before it&#39;s put into the tree for the first time.</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="class_c_new_particle_effect.html#a16f53beb4865aaa31eb1ea4a9f7ceabe">GetNeedsBBoxUpdate</a>()                        { <span class="keywordflow">return</span> GetFlag( FLAGS_NEEDS_BBOX_UPDATE ); }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_new_particle_effect.html#a10bf5392f5ef75474134037a2d838951">SetNeedsBBoxUpdate</a>( <span class="keywordtype">int</span> bFirstUpdate )      { SetFlag( FLAGS_NEEDS_BBOX_UPDATE, bFirstUpdate ); }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">// Set on creation and cleared after the first PostRender (whether or not the system was rendered).</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordtype">int</span>             <a class="code" href="class_c_new_particle_effect.html#ad6f5d68a8c55f0d3f948617ea2c9a15d">GetFirstFrameFlag</a>()                         { <span class="keywordflow">return</span> GetFlag( FLAGS_FIRST_FRAME ); }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_new_particle_effect.html#a00b1080c090827a5cf49ae88eacddf36">SetFirstFrameFlag</a>( <span class="keywordtype">int</span> bFirstUpdate )       { SetFlag( FLAGS_FIRST_FRAME, bFirstUpdate ); }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordtype">int</span>             WasDrawn()                                  { <span class="keywordflow">return</span> GetFlag( FLAGS_DRAWN ); }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_new_particle_effect.html#a7158a4c2ae9df8ee3e3ff49a4d5de6f2">SetDrawn</a>( <span class="keywordtype">int</span> bDrawn )                      { SetFlag( FLAGS_DRAWN, bDrawn ); }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// Update m_Min/m_Max. Returns false and sets the bbox to the sort origin if there are no particles.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="class_c_new_particle_effect.html#af336498fcfe1f62e631663d12dcf9480">RecalculateBoundingBox</a>();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="class_c_effect_material.html">CEffectMaterial</a>* GetEffectMaterial( <a class="code" href="class_c_particle_sub_texture.html">CParticleSubTexture</a> *pSubTexture );</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">// IClientRenderable overrides.</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="keyword">public</span>:     </div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keyword">virtual</span> <span class="keyword">const</span> Vector&amp;           <a class="code" href="class_c_particle_effect_binding.html#ad620e1a2a2b4519b9b776bf1dba2a141">GetRenderOrigin</a>( <span class="keywordtype">void</span> );</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keyword">virtual</span> <span class="keyword">const</span> QAngle&amp;           <a class="code" href="class_c_particle_effect_binding.html#a8023de05f23d7f46c83ff8bfcb6fe4c5">GetRenderAngles</a>( <span class="keywordtype">void</span> );</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keyword">virtual</span> <span class="keyword">const</span> matrix3x4_t &amp;     <a class="code" href="class_c_particle_effect_binding.html#a2791603d5a652043eafffd3af21bec35">RenderableToWorldTransform</a>();</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    <a class="code" href="class_c_particle_effect_binding.html#ab862c00e403f482fdb89ee0dc0cf6544">GetRenderBounds</a>( Vector&amp; mins, Vector&amp; maxs );</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span>                    <a class="code" href="class_c_particle_effect_binding.html#ac9103056b42cfdeb3de206da0de06a54">ShouldDraw</a>( <span class="keywordtype">void</span> );</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">bool</span>                    <a class="code" href="class_c_particle_effect_binding.html#ae712db00139bc1ba853df84e3e1bf208">IsTransparent</a>( <span class="keywordtype">void</span> );</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">int</span>                     <a class="code" href="class_c_particle_effect_binding.html#a078771a4445adeb0db76df452ff9f8d3">DrawModel</a>( <span class="keywordtype">int</span> <a class="code" href="iclientshadowmgr_8h.html#a5a9bde5f6cb57e1a626ed88ca3a9d1ac">flags</a> );</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keyword">enum</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        FLAGS_REMOVE =              (1&lt;&lt;0), <span class="comment">// Set in SetRemoveFlag</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        FLAGS_REMOVALINPROGRESS =   (1&lt;&lt;1), <span class="comment">// Set while the effect is being removed to prevent</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                                            <span class="comment">// infinite recursion.</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        FLAGS_NEEDS_BBOX_UPDATE =   (1&lt;&lt;2), <span class="comment">// This is set until the effect&#39;s bbox has been updated once.</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        FLAGS_AUTOUPDATEBBOX =      (1&lt;&lt;3), <span class="comment">// Update bbox automatically? Cleared in SetBBox.</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        FLAGS_ALWAYSSIMULATE =      (1&lt;&lt;4), <span class="comment">// See SetAlwaysSimulate.</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        FLAGS_DRAWN =               (1&lt;&lt;5), <span class="comment">// Set if the effect is drawn through the leaf system.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        FLAGS_DRAWN_PREVFRAME =     (1&lt;&lt;6), <span class="comment">// Set if the effect was drawn the previous frame.</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                            <span class="comment">// This can be used by particle effect classes</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                                            <span class="comment">// to decide whether or not they want to spawn</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                                            <span class="comment">// new particles - if they weren&#39;t drawn, then</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                                            <span class="comment">// they can &#39;freeze&#39; the particle system to avoid</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                            <span class="comment">// overhead.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        FLAGS_CAMERASPACE =         (1&lt;&lt;7), <span class="comment">// See SetEffectCameraSpace.</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        FLAGS_DRAW_THRU_LEAF_SYSTEM=(1&lt;&lt;8), <span class="comment">// This is the default - do the effect&#39;s visibility through the leaf system.</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        FLAGS_DRAW_BEFORE_VIEW_MODEL=(1&lt;&lt;9),<span class="comment">// Draw before the view model? If this is set, it assumes FLAGS_DRAW_THRU_LEAF_SYSTEM goes off.</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        FLAGS_AUTOAPPLYLOCALTRANSFORM=(1&lt;&lt;10), <span class="comment">// Automatically apply the local transform to CParticleMgr::GetModelView()&#39;s matrix.</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        FLAGS_FIRST_FRAME =         (1&lt;&lt;11),    <span class="comment">// Cleared after the first frame that this system exists (so it can simulate after rendering once).</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        FLAGS_NEW_PARTICLE_SYSTEM=  (1&lt;&lt;12) <span class="comment">// uses new particle system</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    };</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    VMatrix m_LocalSpaceTransform;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordtype">bool</span> m_bLocalSpaceTransformIdentity;    <span class="comment">// If this is true, then m_LocalSpaceTransform is assumed to be identity.</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    </div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">// Bounding box. Stored in WORLD space.</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    Vector                          m_Min;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    Vector                          m_Max;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// paramter copies to detect changes</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    Vector                          <a class="code" href="class_c_new_particle_effect.html#a1acc5e0ed8ab51e7873ef7980a28a297">m_LastMin</a>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    Vector                          <a class="code" href="class_c_new_particle_effect.html#ada448c77cc9b5b40548d84ba43533a6f">m_LastMax</a>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    </div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// The particle cull size</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordtype">float</span>                           m_flParticleCullRadius;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// Number of active particles.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>                  m_nActiveParticles;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// See CParticleMgr::m_FrameCode.</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>                  m_FrameCode;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">// For CParticleMgr&#39;s list index.</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>                  m_ListIndex;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a>                 *m_pSim;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="class_c_particle_mgr.html">CParticleMgr</a>                    *m_pParticleMgr;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    </div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// Combination of the CParticleEffectBinding::FLAGS_ flags.</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordtype">int</span>                             m_Flags;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// Materials this effect is using.</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keyword">enum</span> { EFFECT_MATERIAL_HASH_SIZE = 8 };</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="class_c_effect_material.html">CEffectMaterial</a> *m_EffectMaterialHash[EFFECT_MATERIAL_HASH_SIZE];</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    </div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// For faster iteration.</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    CUtlLinkedList&lt;CEffectMaterial*, unsigned short&gt; m_Materials;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">// auto updates the bbox after N frames</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>                  m_UpdateBBoxCounter;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;};</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="class_c_particle_light_info.html">  600</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_c_particle_light_info.html">CParticleLightInfo</a></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;{</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="class_c_particle_light_info.html#a96d4fd1f29b62ff8870d4e9442446f62">  603</a></span>&#160;    Vector  <a class="code" href="class_c_particle_light_info.html#a96d4fd1f29b62ff8870d4e9442446f62">m_vPos</a>;</div><div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="class_c_particle_light_info.html#aa70cf942daa8a77497958e3acea7af92">  604</a></span>&#160;    Vector  <a class="code" href="class_c_particle_light_info.html#aa70cf942daa8a77497958e3acea7af92">m_vColor</a>;   <span class="comment">// 0-1</span></div><div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="class_c_particle_light_info.html#a32b723b2e2829dc4b506abe68b36ddc6">  605</a></span>&#160;    <span class="keywordtype">float</span>   <a class="code" href="class_c_particle_light_info.html#a32b723b2e2829dc4b506abe68b36ddc6">m_flIntensity</a>;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;};</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a1849559717666612481a7acd9570af33">  608</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a>* (*CreateParticleEffectFN)();</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="keyword">enum</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;{</div><div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#aa156d1cebb38c8a65846c4d9c006012aa9dbd8941a66b98eab1cd9ad85419c28a">  612</a></span>&#160;    <a class="code" href="particlemgr_8h.html#aa156d1cebb38c8a65846c4d9c006012aa9dbd8941a66b98eab1cd9ad85419c28a">TOOLPARTICLESYSTEMID_INVALID</a> = -1,</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;};</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="class_c_particle_mgr.html">  616</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_c_particle_mgr.html">CParticleMgr</a></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;{</div><div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="class_c_particle_mgr.html#a808aaaa431d500a951bd5e7d40356030">  618</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_c_particle_effect_binding.html">CParticleEffectBinding</a>;</div><div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="class_c_particle_mgr.html#a0e58e3fcd0c9bd7bedfcb3817dba301e">  619</a></span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_c_particle_mgr.html#a0e58e3fcd0c9bd7bedfcb3817dba301e">CParticleCollection</a>;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="class_c_particle_mgr.html#acbc16a7d13b084f5ce3261289e85b367">CParticleMgr</a>();</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keyword">virtual</span>         <a class="code" href="class_c_particle_mgr.html#a8786fafdb8df449c8454ce09b33ec6be">~CParticleMgr</a>();</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="comment">// Call at init time to preallocate the bucket of particles.</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="class_c_particle_mgr.html#a8f1b964a30a1e5aafe222d1440e4c573">Init</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nPreallocatedParticles, IMaterialSystem *pMaterial);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// Shutdown - free everything.</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#a099981e9a2d7b1e6a456cbcfc65cc987">Term</a>();</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#a4497dcaa1609b8a0c9e72f82519a4989">LevelInit</a>();</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#a3e97fdf3f06e0fa4b6ac650eef112243">RegisterEffect</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *pEffectType, <a class="code" href="particlemgr_8h.html#a1849559717666612481a7acd9570af33">CreateParticleEffectFN</a> func );</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a> *<a class="code" href="class_c_particle_mgr.html#a76be46f51350717501d63176b624caae">CreateEffect</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *pEffectType );</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="comment">// Add and remove effects from the active list.</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="comment">// Note: once you call AddEffect, CParticleEffectBinding will automatically call</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">//       RemoveEffect in its destructor.</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">// Note: it&#39;s much safer to call CParticleEffectBinding::SetRemoveFlag instead of</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="comment">//       CParticleMgr::RemoveEffect.</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="class_c_particle_mgr.html#ae4a0306a4553df1505858fda81a4b3b1">AddEffect</a>( <a class="code" href="class_c_particle_effect_binding.html">CParticleEffectBinding</a> *pEffect, <a class="code" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a> *pSim );</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#afc496bb689aaa13c76f82158eace3af1">RemoveEffect</a>( <a class="code" href="class_c_particle_effect_binding.html">CParticleEffectBinding</a> *pEffect );</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#ae4a0306a4553df1505858fda81a4b3b1">AddEffect</a>( <a class="code" href="class_c_new_particle_effect.html">CNewParticleEffect</a> *pEffect );</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#afc496bb689aaa13c76f82158eace3af1">RemoveEffect</a>( <a class="code" href="class_c_new_particle_effect.html">CNewParticleEffect</a> *pEffect );</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// Called at level shutdown to free all the lingering particle effects (usually</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// CParticleEffect-derived effects that can linger with noone holding onto them).</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#ad085f1e40c13fdc98333f4261e95f691">RemoveAllEffects</a>();</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="comment">// This should be called at the start of the frame.</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#a2aae76ef9da8196e0692fce1da33c4c5">IncrementFrameCode</a>();</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    </div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// This updates all the particle effects and inserts them into the leaves.</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#a7e0cb76ba4006674cb244af014996008">Simulate</a>( <span class="keywordtype">float</span> fTimeDelta );</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">// This just marks effects that were drawn so during their next simulation they can know</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="comment">// if they were drawn in the previous frame.</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#a1f5ed691ef9c80d3b23ac113c625c33b">PostRender</a>();</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">// Draw the effects marked with SetDrawBeforeViewModel.</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#aa064377e0911cf65c6c50466c5fcda6d">DrawBeforeViewModelEffects</a>();</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// Returns the modelview matrix</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    VMatrix&amp;        <a class="code" href="class_c_particle_mgr.html#a18c6362e36307090cddbf9271c6bc3b3">GetModelView</a>();</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="struct_particle.html">Particle</a>        *<a class="code" href="class_c_particle_mgr.html#ad0fafd1298ebdc4172193ebc483942c5">AllocParticle</a>( <span class="keywordtype">int</span> size );</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="class_c_particle_mgr.html#ab2aec729d8327c82b3d74c4e8f25590f">FreeParticle</a>( <a class="code" href="struct_particle.html">Particle</a> * );</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="class_c_particle_sub_texture.html">PMaterialHandle</a> <a class="code" href="class_c_particle_mgr.html#a3d58060b56c7fea3dc324477b53711d3">GetPMaterial</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *pMaterialName );</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    IMaterial*      <a class="code" href="class_c_particle_mgr.html#a5cef29e68fa3db8b91b1a329ca164dea">PMaterialToIMaterial</a>( <a class="code" href="class_c_particle_sub_texture.html">PMaterialHandle</a> hMaterial );</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="comment">//HACKHACK: quick fix that compensates for the fact that this system was designed to never release materials EVER.</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#a3e58617894188b4e0d5d8bf29855b618">RepairPMaterial</a>( <a class="code" href="class_c_particle_sub_texture.html">PMaterialHandle</a> hMaterial );</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// Particles drawn with the ParticleSphere material will use this info.</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="comment">// This should be set in IParticleEffect.</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#a380b69cc062602f059897df1d9c5757b">GetDirectionalLightInfo</a>( <a class="code" href="class_c_particle_light_info.html">CParticleLightInfo</a> &amp;info ) <span class="keyword">const</span>;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#a09a7578c8ae7db97346528b9a7764c15">SetDirectionalLightInfo</a>( <span class="keyword">const</span> <a class="code" href="class_c_particle_light_info.html">CParticleLightInfo</a> &amp;info );</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="comment">// add a class that gets notified of entity events</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#a1b6e85a0229ad3d19b75a9c3498d8e4f">AddEffectListener</a>( <a class="code" href="class_i_client_particle_listener.html">IClientParticleListener</a> *pListener );</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#a1307ed4e36cafdb037ab749c0fe17a54">RemoveEffectListener</a>( <a class="code" href="class_i_client_particle_listener.html">IClientParticleListener</a> *pListener );</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">// Tool effect ids</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_c_particle_mgr.html#a518e54ac8aa28ca49b0af14cdb0abddd">AllocateToolParticleEffectId</a>();</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="comment">// Remove all new effects</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#a986cf531d29245fd0c05cccb905c9675">RemoveAllNewEffects</a>();</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">// Should particle effects be rendered?</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#ae3fa65dfde65c63e5bf2bcf4eb267c48">RenderParticleSystems</a>( <span class="keywordtype">bool</span> bEnable );</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_particle_mgr.html#a90dadf17eb88aed3172a6c6c2d2d29e2">ShouldRenderParticleSystems</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">// Quick profiling (counts only, not clock cycles).</span></div><div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="class_c_particle_mgr.html#a3f6c74ac6854fd025ec53d2b041214e1">  697</a></span>&#160;    <span class="keywordtype">bool</span>        <a class="code" href="class_c_particle_mgr.html#a3f6c74ac6854fd025ec53d2b041214e1">m_bStatsRunning</a>;</div><div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="class_c_particle_mgr.html#a71b4a082b7d6e8fb2ae27992f4907cca">  698</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="class_c_particle_mgr.html#a71b4a082b7d6e8fb2ae27992f4907cca">m_nStatsFramesSinceLastAlert</a>;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#ab5b926c57b8a433d62f2201eb1c7b282">StatsAccumulateActiveParticleSystems</a>();</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#a2af493fe91f022d3f3db55dc11fce236">StatsReset</a>();</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#a53e614b88386b0a45e1a8f1ee322119d">StatsSpewResults</a>();</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#a657b0a4ee806d3b6550ca571a3b3353f">StatsNewParticleEffectDrawn</a> ( <a class="code" href="class_c_new_particle_effect.html">CNewParticleEffect</a> *pParticles );</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_particle_mgr.html#a9e2407c213f478f40e70d6cda2b680fd">StatsOldParticleEffectDrawn</a> ( <a class="code" href="class_c_particle_effect_binding.html">CParticleEffectBinding</a> *pParticles );</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keyword">struct </span>RetireInfo_t</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <a class="code" href="class_c_particle_mgr.html#a0e58e3fcd0c9bd7bedfcb3817dba301e">CParticleCollection</a> *m_pCollection;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordtype">float</span> m_flScreenArea;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordtype">bool</span> m_bFirstFrame;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    };</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// Call Update() on all the effects.</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordtype">void</span> UpdateAllEffects( <span class="keywordtype">float</span> flTimeDelta );</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordtype">void</span> UpdateNewEffects( <span class="keywordtype">float</span> flTimeDelta );             <span class="comment">// update new particle effects</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="class_c_particle_sub_texture_group.html">CParticleSubTextureGroup</a>* FindOrAddSubTextureGroup( IMaterial *pPageMaterial );</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordtype">int</span> ComputeParticleDefScreenArea( <span class="keywordtype">int</span> nInfoCount, RetireInfo_t *pInfo, <span class="keywordtype">float</span> *pTotalArea, CParticleSystemDefinition* pDef, </div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keyword">const</span> CViewSetup&amp; <a class="code" href="iviewrender_8h.html#a85a0ad6f6e0f922b928ba8dca57f345e">view</a>, <span class="keyword">const</span> VMatrix &amp;worldToPixels, <span class="keywordtype">float</span> flFocalDist );</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordtype">bool</span> RetireParticleCollections( CParticleSystemDefinition* pDef, <span class="keywordtype">int</span> nCount, RetireInfo_t *pInfo, <span class="keywordtype">float</span> flScreenArea, <span class="keywordtype">float</span> flMaxTotalArea );</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordtype">void</span> BuildParticleSimList( CUtlVector&lt; ParticleSimListEntry_t &gt; &amp;list );</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordtype">bool</span> EarlyRetireParticleSystems( <span class="keywordtype">int</span> nCount, <a class="code" href="struct_particle_sim_list_entry__t.html">ParticleSimListEntry_t</a> *ppEffects );</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> RetireSort( <span class="keyword">const</span> <span class="keywordtype">void</span> *p1, <span class="keyword">const</span> <span class="keywordtype">void</span> *p2 ); </div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordtype">int</span> m_nCurrentParticlesAllocated;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">// Directional lighting info.</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <a class="code" href="class_c_particle_light_info.html">CParticleLightInfo</a> m_DirectionalLight;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">// Frame code, used to prevent CParticleEffects from simulating multiple times per frame.</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// Their DrawModel can be called multiple times per frame because of water reflections,</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// but we only want to simulate the particles once.</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>                  m_FrameCode;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordtype">bool</span>                            m_bUpdatingEffects;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordtype">bool</span>                            m_bRenderParticleEffects;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// All the active effects.</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    CUtlLinkedList&lt;CParticleEffectBinding*, unsigned short&gt;     m_Effects;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// all the active effects using the new particle interface</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    CUtlIntrusiveDList&lt; CNewParticleEffect &gt; m_NewEffects;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    </div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    CUtlVector&lt; IClientParticleListener *&gt; m_effectListeners;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    IMaterialSystem                 *m_pMaterialSystem;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">// Store the concatenated modelview matrix</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    VMatrix                         m_mModelView;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    </div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    CUtlVector&lt;CParticleSubTextureGroup*&gt;               m_SubTextureGroups; <span class="comment">// lookup by group name</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    CUtlDict&lt;CParticleSubTexture*,unsigned short&gt;       m_SubTextures;      <span class="comment">// lookup by material name</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <a class="code" href="class_c_particle_sub_texture.html">CParticleSubTexture</a> m_DefaultInvalidSubTexture; <span class="comment">// Used when they specify an invalid material name.</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    CUtlMap&lt; const char*, CreateParticleEffectFN &gt; m_effectFactories;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordtype">int</span> m_nToolParticleEffectId;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    IThreadPool *m_pThreadPool[2];</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;};</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno"><a class="line" href="class_c_particle_mgr.html#a518e54ac8aa28ca49b0af14cdb0abddd">  770</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="class_c_particle_mgr.html#a518e54ac8aa28ca49b0af14cdb0abddd">CParticleMgr::AllocateToolParticleEffectId</a>()</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;{</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> m_nToolParticleEffectId++;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;}</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">// Implement this class and register with CParticleMgr to receive particle effect add/remove notification</span></div><div class="line"><a name="l00776"></a><span class="lineno"><a class="line" href="class_i_client_particle_listener.html">  776</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_i_client_particle_listener.html">IClientParticleListener</a></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;{</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_i_client_particle_listener.html#adfda5d8fb04397cd1a7fd2d4a490bdfc">OnParticleEffectAdded</a>( <a class="code" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a> *pEffect ) = 0;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_i_client_particle_listener.html#a20fd9053358796b1c304492504cc7a2b">OnParticleEffectRemoved</a>( <a class="code" href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a> *pEffect ) = 0;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;};</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">// Helper functions to abstract out the particle testbed app.</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="keywordtype">float</span>   <a class="code" href="particlemgr_8h.html#a331ea3c6de173e8cd5f4ea6816c527f6">Helper_GetTime</a>();</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="keywordtype">float</span>   <a class="code" href="particlemgr_8h.html#a4bc8dae8038c2930153987bab9190558">Helper_GetFrameTime</a>();</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="keywordtype">float</span>   <a class="code" href="particlemgr_8h.html#a5e0ef7b9783728e789e9c37177eebc53">Helper_RandomFloat</a>( <span class="keywordtype">float</span> minVal, <span class="keywordtype">float</span> maxVal );</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="keywordtype">int</span>     <a class="code" href="particlemgr_8h.html#a398f23050fe7a140b4f6fbfdc953dc6e">Helper_RandomInt</a>( <span class="keywordtype">int</span> minVal, <span class="keywordtype">int</span> maxVal );</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">// ------------------------------------------------------------------------ //</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">// CParticleMgr inlines</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">// ------------------------------------------------------------------------ //</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="class_c_particle_mgr.html#a18c6362e36307090cddbf9271c6bc3b3">  797</a></span>&#160;<span class="keyword">inline</span> VMatrix&amp; <a class="code" href="class_c_particle_mgr.html#a18c6362e36307090cddbf9271c6bc3b3">CParticleMgr::GetModelView</a>()</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;{</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">return</span> m_mModelView;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">// ------------------------------------------------------------------------ //</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">// CParticleEffectBinding inlines.</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">// ------------------------------------------------------------------------ //</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="class_c_particle_effect_binding.html#a57ba4f933a4b3a85a675a61d7d2cb7fa">  808</a></span>&#160;<span class="keyword">inline</span> <span class="keyword">const</span> matrix3x4_t&amp; <a class="code" href="class_c_particle_effect_binding.html#a57ba4f933a4b3a85a675a61d7d2cb7fa">CParticleEffectBinding::GetLocalSpaceTransform</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">return</span> m_LocalSpaceTransform.As3x4();</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">// ------------------------------------------------------------------------ //</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">// GLOBALS</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">// ------------------------------------------------------------------------ //</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<a class="code" href="class_c_particle_mgr.html">CParticleMgr</a> *<a class="code" href="particlemgr_8h.html#a0577bbe3f12f6013a33b7999842e5b5c">ParticleMgr</a>();</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">// StandardParticle_t; this is just one type of particle</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">// effects may implement their own particle data structures</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno"><a class="line" href="struct_standard_particle__t.html">  829</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_standard_particle__t.html">StandardParticle_t</a> : <span class="keyword">public</span> <a class="code" href="struct_particle.html">Particle</a></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;{</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="comment">// Color and alpha values are 0 - 1</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="struct_standard_particle__t.html#af1530e9a22f682d8b9e040fd878d9b90">SetColor</a>(<span class="keywordtype">float</span> r, <span class="keywordtype">float</span> g, <span class="keywordtype">float</span> b);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordtype">void</span>            <a class="code" href="struct_standard_particle__t.html#aba33fb7e3f43e7351f05076a02349cb8">SetAlpha</a>(<span class="keywordtype">float</span> a);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="struct_standard_particle__t.html#a104b9d6e5eb51dc8d050b1ee6aac1698">  835</a></span>&#160;    Vector          <a class="code" href="struct_standard_particle__t.html#a104b9d6e5eb51dc8d050b1ee6aac1698">m_Velocity</a>;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    </div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="comment">// How this is used is up to the effect&#39;s discretion. Some use it for how long it has been alive</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="comment">// and others use it to count down until the particle disappears.</span></div><div class="line"><a name="l00839"></a><span class="lineno"><a class="line" href="struct_standard_particle__t.html#ac0852ab2f3fe4e227706bd4abab66cdc">  839</a></span>&#160;    <span class="keywordtype">float</span>           <a class="code" href="struct_standard_particle__t.html#ac0852ab2f3fe4e227706bd4abab66cdc">m_Lifetime</a>;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno"><a class="line" href="struct_standard_particle__t.html#a8b010299b03fef985b132cf359ac5b31">  841</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   <a class="code" href="struct_standard_particle__t.html#a8b010299b03fef985b132cf359ac5b31">m_EffectData</a>;   <span class="comment">// Data specific to the IParticleEffect. This can be used to distinguish between</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                                    <span class="comment">// different types of particles the effect is simulating.</span></div><div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="struct_standard_particle__t.html#ad216500b06f3828851de54229f5f5fa6">  843</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  <a class="code" href="struct_standard_particle__t.html#ad216500b06f3828851de54229f5f5fa6">m_EffectDataWord</a>;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno"><a class="line" href="struct_standard_particle__t.html#a0db63c8c9acc43a1311eed8d394fad87">  845</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   <a class="code" href="struct_standard_particle__t.html#a0db63c8c9acc43a1311eed8d394fad87">m_Color</a>[4];     <span class="comment">// RGBA - not all effects need to use this.</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;};</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">// ------------------------------------------------------------------------ //</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">// Transform a particle.</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">// ------------------------------------------------------------------------ //</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#ab5ed29dea0b5ad5e1dfc7bd36e9302f8">  853</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="particlemgr_8h.html#ab5ed29dea0b5ad5e1dfc7bd36e9302f8">TransformParticle</a>(<span class="keyword">const</span> VMatrix &amp;vMat, <span class="keyword">const</span> Vector &amp;vIn, Vector &amp;vOut)</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;{</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="comment">//vOut = vMat.VMul4x3(vIn);</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    vOut.x = vMat.m[0][0]*vIn.x + vMat.m[0][1]*vIn.y + vMat.m[0][2]*vIn.z + vMat.m[0][3];</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    vOut.y = vMat.m[1][0]*vIn.x + vMat.m[1][1]*vIn.y + vMat.m[1][2]*vIn.z + vMat.m[1][3];</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    vOut.z = vMat.m[2][0]*vIn.x + vMat.m[2][1]*vIn.y + vMat.m[2][2]*vIn.z + vMat.m[2][3];</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;}</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">// ------------------------------------------------------------------------ //</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">// CEffectMaterial inlines</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">// ------------------------------------------------------------------------ //</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="struct_standard_particle__t.html#af1530e9a22f682d8b9e040fd878d9b90">  866</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="struct_standard_particle__t.html#af1530e9a22f682d8b9e040fd878d9b90">StandardParticle_t::SetColor</a>(<span class="keywordtype">float</span> r, <span class="keywordtype">float</span> g, <span class="keywordtype">float</span> b)</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;{</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="struct_standard_particle__t.html#a0db63c8c9acc43a1311eed8d394fad87">m_Color</a>[0] = (<span class="keywordtype">unsigned</span> char)(r * 255.9f);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <a class="code" href="struct_standard_particle__t.html#a0db63c8c9acc43a1311eed8d394fad87">m_Color</a>[1] = (<span class="keywordtype">unsigned</span> char)(g * 255.9f);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="struct_standard_particle__t.html#a0db63c8c9acc43a1311eed8d394fad87">m_Color</a>[2] = (<span class="keywordtype">unsigned</span> char)(b * 255.9f);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="struct_standard_particle__t.html#aba33fb7e3f43e7351f05076a02349cb8">  873</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="struct_standard_particle__t.html#aba33fb7e3f43e7351f05076a02349cb8">StandardParticle_t::SetAlpha</a>(<span class="keywordtype">float</span> a)</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;{</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <a class="code" href="struct_standard_particle__t.html#a0db63c8c9acc43a1311eed8d394fad87">m_Color</a>[3] = (<span class="keywordtype">unsigned</span> char)(a * 255.9f);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">// List functions.</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a10d3c4410716ee8fb8887455eae2fa90">  884</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="particlemgr_8h.html#a10d3c4410716ee8fb8887455eae2fa90">UnlinkParticle</a>( <a class="code" href="struct_particle.html">Particle</a> *pParticle )</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;{</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    pParticle-&gt;<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a>-&gt;<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a> = pParticle-&gt;<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a>;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    pParticle-&gt;<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a>-&gt;<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a> = pParticle-&gt;<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;}</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a63ccf1d456ea148a0fe619b3034f7edb">  890</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="particlemgr_8h.html#a63ccf1d456ea148a0fe619b3034f7edb">InsertParticleBefore</a>( <a class="code" href="struct_particle.html">Particle</a> *pInsert, <a class="code" href="struct_particle.html">Particle</a> *pNext )</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;{</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="comment">// link pCur before pPrev</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    pInsert-&gt;<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a> = pNext;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    pInsert-&gt;<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a> = pNext-&gt;<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    pInsert-&gt;<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a>-&gt;<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a> = pInsert-&gt;<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a>-&gt;<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a> = pInsert;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;}</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#ad4d67439004a8d058f0f07326cd8d7b4">  898</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="particlemgr_8h.html#ad4d67439004a8d058f0f07326cd8d7b4">InsertParticleAfter</a>( <a class="code" href="struct_particle.html">Particle</a> *pInsert, <a class="code" href="struct_particle.html">Particle</a> *pPrev )</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;{</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    pInsert-&gt;<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a> = pPrev;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    pInsert-&gt;<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a> = pPrev-&gt;<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a>;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    pInsert-&gt;<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a>-&gt;<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a> = pInsert-&gt;<a class="code" href="struct_particle.html#a328489afcd259078cc786c5742db65d5">m_pPrev</a>-&gt;<a class="code" href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">m_pNext</a> = pInsert;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;}</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno"><a class="line" href="particlemgr_8h.html#a10432b1caa1bc430dc6d40e37e5b36e3">  906</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="particlemgr_8h.html#a10432b1caa1bc430dc6d40e37e5b36e3">SwapParticles</a>( <a class="code" href="struct_particle.html">Particle</a> *pPrev, <a class="code" href="struct_particle.html">Particle</a> *pCur )</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;{</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="comment">// unlink pCur</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <a class="code" href="particlemgr_8h.html#a10d3c4410716ee8fb8887455eae2fa90">UnlinkParticle</a>( pCur );</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <a class="code" href="particlemgr_8h.html#a63ccf1d456ea148a0fe619b3034f7edb">InsertParticleBefore</a>( pCur, pPrev );</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;}</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="particle__iterators_8h.html">particle_iterators.h</a>&quot;</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="ttc" id="class_c_new_particle_effect_html_a1acc5e0ed8ab51e7873ef7980a28a297"><div class="ttname"><a href="class_c_new_particle_effect.html#a1acc5e0ed8ab51e7873ef7980a28a297">CNewParticleEffect::m_LastMin</a></div><div class="ttdeci">Vector m_LastMin</div><div class="ttdef"><b>Definition:</b> particles_new.h:156</div></div>
<div class="ttc" id="class_c_particle_simulate_iterator_html"><div class="ttname"><a href="class_c_particle_simulate_iterator.html">CParticleSimulateIterator</a></div><div class="ttdef"><b>Definition:</b> particle_iterators.h:93</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_aee41118d97488455db4dbc16ba83e9bb"><div class="ttname"><a href="class_c_particle_effect_binding.html#aee41118d97488455db4dbc16ba83e9bb">CParticleEffectBinding::DetectChanges</a></div><div class="ttdeci">void DetectChanges()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:596</div></div>
<div class="ttc" id="particlemgr_8h_html_a4a6229bbb22331f27e634f75f9547996"><div class="ttname"><a href="particlemgr_8h.html#a4a6229bbb22331f27e634f75f9547996">PMaterialHandle</a></div><div class="ttdeci">CParticleSubTexture * PMaterialHandle</div><div class="ttdef"><b>Definition:</b> particlemgr.h:184</div></div>
<div class="ttc" id="class_c_particle_sub_texture_html_a52a81031728040fbf94fa1d0cdb8d936"><div class="ttname"><a href="class_c_particle_sub_texture.html#a52a81031728040fbf94fa1d0cdb8d936">CParticleSubTexture::m_pGroup</a></div><div class="ttdeci">CParticleSubTextureGroup * m_pGroup</div><div class="ttdef"><b>Definition:</b> particlemgr.h:228</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_aa05c6fa6b612bf7ca4d96e12443c0265"><div class="ttname"><a href="class_c_particle_effect_binding.html#aa05c6fa6b612bf7ca4d96e12443c0265">CParticleEffectBinding::SetBBox</a></div><div class="ttdeci">void SetBBox(const Vector &amp;bbMin, const Vector &amp;bbMax, bool bDisableAutoUpdate=true)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:534</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a3edaef4b85c2a14d735599379fd5f53c"><div class="ttname"><a href="class_c_particle_effect_binding.html#a3edaef4b85c2a14d735599379fd5f53c">CParticleEffectBinding::GetWorldspaceBounds</a></div><div class="ttdeci">void GetWorldspaceBounds(Vector *pMins, Vector *pMaxs)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:543</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a518e54ac8aa28ca49b0af14cdb0abddd"><div class="ttname"><a href="class_c_particle_mgr.html#a518e54ac8aa28ca49b0af14cdb0abddd">CParticleMgr::AllocateToolParticleEffectId</a></div><div class="ttdeci">int AllocateToolParticleEffectId()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:770</div></div>
<div class="ttc" id="particlemgr_8h_html_a5e0ef7b9783728e789e9c37177eebc53"><div class="ttname"><a href="particlemgr_8h.html#a5e0ef7b9783728e789e9c37177eebc53">Helper_RandomFloat</a></div><div class="ttdeci">float Helper_RandomFloat(float minVal, float maxVal)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2212</div></div>
<div class="ttc" id="particlemgr_8h_html_a331ea3c6de173e8cd5f4ea6816c527f6"><div class="ttname"><a href="particlemgr_8h.html#a331ea3c6de173e8cd5f4ea6816c527f6">Helper_GetTime</a></div><div class="ttdeci">float Helper_GetTime()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2188</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a9d153bf3ce643d51895dc8840ccbef5e"><div class="ttname"><a href="class_c_particle_effect_binding.html#a9d153bf3ce643d51895dc8840ccbef5e">CParticleEffectBinding::WasDrawnPrevFrame</a></div><div class="ttdeci">int WasDrawnPrevFrame()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:418</div></div>
<div class="ttc" id="class_c_particle_render_iterator_html"><div class="ttname"><a href="class_c_particle_render_iterator.html">CParticleRenderIterator</a></div><div class="ttdef"><b>Definition:</b> particle_iterators.h:37</div></div>
<div class="ttc" id="iclientmode_8h_html_a5368a4a3fff770682cf257e81707d9f0"><div class="ttname"><a href="iclientmode_8h.html#a5368a4a3fff770682cf257e81707d9f0">Init</a></div><div class="ttdeci">virtual void Init()=0</div></div>
<div class="ttc" id="struct_particle_html_a7e6078d10f36bd35941c4d119856b239"><div class="ttname"><a href="struct_particle.html#a7e6078d10f36bd35941c4d119856b239">Particle::m_pNext</a></div><div class="ttdeci">Particle * m_pNext</div><div class="ttdef"><b>Definition:</b> particlemgr.h:168</div></div>
<div class="ttc" id="class_c_particle_mgr_html_ad0fafd1298ebdc4172193ebc483942c5"><div class="ttname"><a href="class_c_particle_mgr.html#ad0fafd1298ebdc4172193ebc483942c5">CParticleMgr::AllocParticle</a></div><div class="ttdeci">Particle * AllocParticle(int size)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1169</div></div>
<div class="ttc" id="particlemgr_8h_html_a6672ea9fd3d6acde9093f8279da8bc9e"><div class="ttname"><a href="particlemgr_8h.html#a6672ea9fd3d6acde9093f8279da8bc9e">GetEffectName</a></div><div class="ttdeci">virtual const char * GetEffectName()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:305</div></div>
<div class="ttc" id="class_c_particle_mgr_html_ab5b926c57b8a433d62f2201eb1c7b282"><div class="ttname"><a href="class_c_particle_mgr.html#ab5b926c57b8a433d62f2201eb1c7b282">CParticleMgr::StatsAccumulateActiveParticleSystems</a></div><div class="ttdeci">void StatsAccumulateActiveParticleSystems()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2325</div></div>
<div class="ttc" id="class_c_particle_mgr_html_ae3fa65dfde65c63e5bf2bcf4eb267c48"><div class="ttname"><a href="class_c_particle_mgr.html#ae3fa65dfde65c63e5bf2bcf4eb267c48">CParticleMgr::RenderParticleSystems</a></div><div class="ttdeci">void RenderParticleSystems(bool bEnable)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1195</div></div>
<div class="ttc" id="particlemgr_8h_html_aa156d1cebb38c8a65846c4d9c006012aa9dbd8941a66b98eab1cd9ad85419c28a"><div class="ttname"><a href="particlemgr_8h.html#aa156d1cebb38c8a65846c4d9c006012aa9dbd8941a66b98eab1cd9ad85419c28a">TOOLPARTICLESYSTEMID_INVALID</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:612</div></div>
<div class="ttc" id="class_c_particle_sub_texture_group_html_aa2a69dd865bc390d6d51cb6c71ce2e84"><div class="ttname"><a href="class_c_particle_sub_texture_group.html#aa2a69dd865bc390d6d51cb6c71ce2e84">CParticleSubTextureGroup::m_pPageMaterial</a></div><div class="ttdeci">IMaterial * m_pPageMaterial</div><div class="ttdef"><b>Definition:</b> particlemgr.h:214</div></div>
<div class="ttc" id="particlemgr_8h_html_ab5ed29dea0b5ad5e1dfc7bd36e9302f8"><div class="ttname"><a href="particlemgr_8h.html#ab5ed29dea0b5ad5e1dfc7bd36e9302f8">TransformParticle</a></div><div class="ttdeci">void TransformParticle(const VMatrix &amp;vMat, const Vector &amp;vIn, Vector &amp;vOut)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:853</div></div>
<div class="ttc" id="class_c_particle_mgr_html_ae4a0306a4553df1505858fda81a4b3b1"><div class="ttname"><a href="class_c_particle_mgr.html#ae4a0306a4553df1505858fda81a4b3b1">CParticleMgr::AddEffect</a></div><div class="ttdeci">bool AddEffect(CParticleEffectBinding *pEffect, IParticleEffect *pSim)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1280</div></div>
<div class="ttc" id="class_c_effect_material_html"><div class="ttname"><a href="class_c_effect_material.html">CEffectMaterial</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:188</div></div>
<div class="ttc" id="struct_standard_particle__t_html"><div class="ttname"><a href="struct_standard_particle__t.html">StandardParticle_t</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:829</div></div>
<div class="ttc" id="particlemgr_8h_html_a10432b1caa1bc430dc6d40e37e5b36e3"><div class="ttname"><a href="particlemgr_8h.html#a10432b1caa1bc430dc6d40e37e5b36e3">SwapParticles</a></div><div class="ttdeci">void SwapParticles(Particle *pPrev, Particle *pCur)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:906</div></div>
<div class="ttc" id="iclientshadowmgr_8h_html_a5a9bde5f6cb57e1a626ed88ca3a9d1ac"><div class="ttname"><a href="iclientshadowmgr_8h.html#a5a9bde5f6cb57e1a626ed88ca3a9d1ac">flags</a></div><div class="ttdeci">abstract_class int flags</div><div class="ttdef"><b>Definition:</b> iclientshadowmgr.h:46</div></div>
<div class="ttc" id="struct_particle_html_a66af8d4e49cac707723e91a9ab2f5afa"><div class="ttname"><a href="struct_particle.html#a66af8d4e49cac707723e91a9ab2f5afa">Particle::m_Pos</a></div><div class="ttdeci">Vector m_Pos</div><div class="ttdef"><b>Definition:</b> particlemgr.h:174</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a57ba4f933a4b3a85a675a61d7d2cb7fa"><div class="ttname"><a href="class_c_particle_effect_binding.html#a57ba4f933a4b3a85a675a61d7d2cb7fa">CParticleEffectBinding::GetLocalSpaceTransform</a></div><div class="ttdeci">const matrix3x4_t &amp; GetLocalSpaceTransform() const</div><div class="ttdef"><b>Definition:</b> particlemgr.h:808</div></div>
<div class="ttc" id="particlemgr_8h_html_af0b120c2a84add92d448deaa2c24c0e6"><div class="ttname"><a href="particlemgr_8h.html#af0b120c2a84add92d448deaa2c24c0e6">GetSortOrigin</a></div><div class="ttdeci">virtual const Vector &amp; GetSortOrigin()=0</div></div>
<div class="ttc" id="particlemgr_8h_html_a10d3c4410716ee8fb8887455eae2fa90"><div class="ttname"><a href="particlemgr_8h.html#a10d3c4410716ee8fb8887455eae2fa90">UnlinkParticle</a></div><div class="ttdeci">void UnlinkParticle(Particle *pParticle)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:884</div></div>
<div class="ttc" id="class_c_particle_mgr_html_afc496bb689aaa13c76f82158eace3af1"><div class="ttname"><a href="class_c_particle_mgr.html#afc496bb689aaa13c76f82158eace3af1">CParticleMgr::RemoveEffect</a></div><div class="ttdeci">void RemoveEffect(CParticleEffectBinding *pEffect)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1315</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a1f5ed691ef9c80d3b23ac113c625c33b"><div class="ttname"><a href="class_c_particle_mgr.html#a1f5ed691ef9c80d3b23ac113c625c33b">CParticleMgr::PostRender</a></div><div class="ttdeci">void PostRender()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1476</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a1712f44a114c6d256007884afed6b0ec"><div class="ttname"><a href="class_c_particle_effect_binding.html#a1712f44a114c6d256007884afed6b0ec">CParticleEffectBinding::SetLocalSpaceTransform</a></div><div class="ttdeci">void SetLocalSpaceTransform(const matrix3x4_t &amp;transform)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:549</div></div>
<div class="ttc" id="class_particle_draw_html"><div class="ttname"><a href="class_particle_draw.html">ParticleDraw</a></div><div class="ttdef"><b>Definition:</b> particledraw.h:25</div></div>
<div class="ttc" id="class_c_particle_sub_texture_html_a62e8e6cb302cedf8f12d2fd64900a149"><div class="ttname"><a href="class_c_particle_sub_texture.html#a62e8e6cb302cedf8f12d2fd64900a149">CParticleSubTexture::m_pMaterial</a></div><div class="ttdeci">IMaterial * m_pMaterial</div><div class="ttdef"><b>Definition:</b> particlemgr.h:236</div></div>
<div class="ttc" id="iviewrender_8h_html_a85a0ad6f6e0f922b928ba8dca57f345e"><div class="ttname"><a href="iviewrender_8h.html#a85a0ad6f6e0f922b928ba8dca57f345e">view</a></div><div class="ttdeci">IViewRender * view</div><div class="ttdef"><b>Definition:</b> view.cpp:89</div></div>
<div class="ttc" id="class_c_particle_mgr_html_aa064377e0911cf65c6c50466c5fcda6d"><div class="ttname"><a href="class_c_particle_mgr.html#aa064377e0911cf65c6c50466c5fcda6d">CParticleMgr::DrawBeforeViewModelEffects</a></div><div class="ttdeci">void DrawBeforeViewModelEffects()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1494</div></div>
<div class="ttc" id="class_c_new_particle_effect_html_a7158a4c2ae9df8ee3e3ff49a4d5de6f2"><div class="ttname"><a href="class_c_new_particle_effect.html#a7158a4c2ae9df8ee3e3ff49a4d5de6f2">CNewParticleEffect::SetDrawn</a></div><div class="ttdeci">void SetDrawn(bool bDrawn)</div><div class="ttdef"><b>Definition:</b> particles_new.h:254</div></div>
<div class="ttc" id="particlemgr_8h_html_ace000d849716e4396c406e80feb99c99"><div class="ttname"><a href="particlemgr_8h.html#ace000d849716e4396c406e80feb99c99">SetShouldSimulate</a></div><div class="ttdeci">virtual void SetShouldSimulate(bool bSim)=0</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a099981e9a2d7b1e6a456cbcfc65cc987"><div class="ttname"><a href="class_c_particle_mgr.html#a099981e9a2d7b1e6a456cbcfc65cc987">CParticleMgr::Term</a></div><div class="ttdeci">void Term()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1111</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a3f6c74ac6854fd025ec53d2b041214e1"><div class="ttname"><a href="class_c_particle_mgr.html#a3f6c74ac6854fd025ec53d2b041214e1">CParticleMgr::m_bStatsRunning</a></div><div class="ttdeci">bool m_bStatsRunning</div><div class="ttdef"><b>Definition:</b> particlemgr.h:697</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a8023de05f23d7f46c83ff8bfcb6fe4c5"><div class="ttname"><a href="class_c_particle_effect_binding.html#a8023de05f23d7f46c83ff8bfcb6fe4c5">CParticleEffectBinding::GetRenderAngles</a></div><div class="ttdeci">virtual const QAngle &amp; GetRenderAngles(void)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:189</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_ac2d054ffa7da1d8d1dce142049e861e1"><div class="ttname"><a href="class_c_particle_effect_binding.html#ac2d054ffa7da1d8d1dce142049e861e1">CParticleEffectBinding::SetWasDrawnPrevFrame</a></div><div class="ttdeci">void SetWasDrawnPrevFrame(int bWasDrawnPrevFrame)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:419</div></div>
<div class="ttc" id="clientleafsystem_8h_html"><div class="ttname"><a href="clientleafsystem_8h.html">clientleafsystem.h</a></div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a212f36e67baedb7e2a8eee64a8b02a43"><div class="ttname"><a href="class_c_particle_effect_binding.html#a212f36e67baedb7e2a8eee64a8b02a43">CParticleEffectBinding::SetAutoUpdateBBox</a></div><div class="ttdeci">void SetAutoUpdateBBox(int bAutoUpdate)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:447</div></div>
<div class="ttc" id="class_c_new_particle_effect_html_af336498fcfe1f62e631663d12dcf9480"><div class="ttname"><a href="class_c_new_particle_effect.html#af336498fcfe1f62e631663d12dcf9480">CNewParticleEffect::RecalculateBoundingBox</a></div><div class="ttdeci">bool RecalculateBoundingBox()</div><div class="ttdef"><b>Definition:</b> particles_new.cpp:351</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a18e53fb38b10f8fca3d97019ad27d5ca"><div class="ttname"><a href="class_c_particle_effect_binding.html#a18e53fb38b10f8fca3d97019ad27d5ca">CParticleEffectBinding::SetRemoveFlag</a></div><div class="ttdeci">void SetRemoveFlag()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:402</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a53e614b88386b0a45e1a8f1ee322119d"><div class="ttname"><a href="class_c_particle_mgr.html#a53e614b88386b0a45e1a8f1ee322119d">CParticleMgr::StatsSpewResults</a></div><div class="ttdeci">void StatsSpewResults()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2388</div></div>
<div class="ttc" id="class_c_particle_sub_texture_html_ac1183d49a5cabf25e4bf5bd9d479319c"><div class="ttname"><a href="class_c_particle_sub_texture.html#ac1183d49a5cabf25e4bf5bd9d479319c">CParticleSubTexture::m_tCoordMins</a></div><div class="ttdeci">float m_tCoordMins[2]</div><div class="ttdef"><b>Definition:</b> particlemgr.h:224</div></div>
<div class="ttc" id="struct_particle_sim_list_entry__t_html"><div class="ttname"><a href="struct_particle_sim_list_entry__t.html">ParticleSimListEntry_t</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:240</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a18c6362e36307090cddbf9271c6bc3b3"><div class="ttname"><a href="class_c_particle_mgr.html#a18c6362e36307090cddbf9271c6bc3b3">CParticleMgr::GetModelView</a></div><div class="ttdeci">VMatrix &amp; GetModelView()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:797</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_aa534e9e3f28e378e64c211a0e550f92f"><div class="ttname"><a href="class_c_particle_effect_binding.html#aa534e9e3f28e378e64c211a0e550f92f">CParticleEffectBinding::IsEffectCameraSpace</a></div><div class="ttdeci">int IsEffectCameraSpace()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:431</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a882dd8cb797b10dac580c040fe1b22cc"><div class="ttname"><a href="class_c_particle_effect_binding.html#a882dd8cb797b10dac580c040fe1b22cc">CParticleEffectBinding::GetRemoveFlag</a></div><div class="ttdeci">int GetRemoveFlag()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:401</div></div>
<div class="ttc" id="particlemgr_8h_html_a6f08896ca4563d5a4ae8b29e37966751"><div class="ttname"><a href="particlemgr_8h.html#a6f08896ca4563d5a4ae8b29e37966751">IParticleEffect</a></div><div class="ttdeci">abstract_class IParticleEffect</div><div class="ttdef"><b>Definition:</b> particlemgr.h:256</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a36984e0b7950b2149595ea2d10e1cd07"><div class="ttname"><a href="class_c_particle_effect_binding.html#a36984e0b7950b2149595ea2d10e1cd07">CParticleEffectBinding::GetActiveParticleList</a></div><div class="ttdeci">int GetActiveParticleList(int nCount, Particle **ppParticleList)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:747</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_ab15b35c01e9c388018b5c5693ff694d4"><div class="ttname"><a href="class_c_particle_effect_binding.html#ab15b35c01e9c388018b5c5693ff694d4">CParticleEffectBinding::SetAlwaysSimulate</a></div><div class="ttdeci">void SetAlwaysSimulate(int bAlwaysSimulate)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:409</div></div>
<div class="ttc" id="class_c_particle_mgr_html_ad085f1e40c13fdc98333f4261e95f691"><div class="ttname"><a href="class_c_particle_mgr.html#ad085f1e40c13fdc98333f4261e95f691">CParticleMgr::RemoveAllEffects</a></div><div class="ttdeci">void RemoveAllEffects()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1389</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a539db0e53d344fc82de253c0de58d7ae"><div class="ttname"><a href="class_c_particle_effect_binding.html#a539db0e53d344fc82de253c0de58d7ae">CParticleEffectBinding::FindOrAddMaterial</a></div><div class="ttdeci">PMaterialHandle FindOrAddMaterial(const char *pMaterialName)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:484</div></div>
<div class="ttc" id="c__te__legacytempents_8h_html_a31464c6a1dd2e5acc8b86f39b6e67fd7"><div class="ttname"><a href="c__te__legacytempents_8h.html#a31464c6a1dd2e5acc8b86f39b6e67fd7">Update</a></div><div class="ttdeci">virtual void Update(void)=0</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a657b0a4ee806d3b6550ca571a3b3353f"><div class="ttname"><a href="class_c_particle_mgr.html#a657b0a4ee806d3b6550ca571a3b3353f">CParticleMgr::StatsNewParticleEffectDrawn</a></div><div class="ttdeci">void StatsNewParticleEffectDrawn(CNewParticleEffect *pParticles)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2309</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a3d58060b56c7fea3dc324477b53711d3"><div class="ttname"><a href="class_c_particle_mgr.html#a3d58060b56c7fea3dc324477b53711d3">CParticleMgr::GetPMaterial</a></div><div class="ttdeci">PMaterialHandle GetPMaterial(const char *pMaterialName)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2039</div></div>
<div class="ttc" id="class_i_client_particle_listener_html"><div class="ttname"><a href="class_i_client_particle_listener.html">IClientParticleListener</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:776</div></div>
<div class="ttc" id="class_c_effect_material_html_a02262d1eda4bde40ac0dc42c7beb4b98"><div class="ttname"><a href="class_c_effect_material.html#a02262d1eda4bde40ac0dc42c7beb4b98">CEffectMaterial::m_pHashedNext</a></div><div class="ttdeci">CEffectMaterial * m_pHashedNext</div><div class="ttdef"><b>Definition:</b> particlemgr.h:199</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a7e0cb76ba4006674cb244af014996008"><div class="ttname"><a href="class_c_particle_mgr.html#a7e0cb76ba4006674cb244af014996008">CParticleMgr::Simulate</a></div><div class="ttdeci">void Simulate(float fTimeDelta)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1448</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_ac9103056b42cfdeb3de206da0de06a54"><div class="ttname"><a href="class_c_particle_effect_binding.html#ac9103056b42cfdeb3de206da0de06a54">CParticleEffectBinding::ShouldDraw</a></div><div class="ttdeci">virtual bool ShouldDraw(void)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:213</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a5cef29e68fa3db8b91b1a329ca164dea"><div class="ttname"><a href="class_c_particle_mgr.html#a5cef29e68fa3db8b91b1a329ca164dea">CParticleMgr::PMaterialToIMaterial</a></div><div class="ttdeci">IMaterial * PMaterialToIMaterial(PMaterialHandle hMaterial)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2163</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a4651f0205e5633f006a5e850ce35e0be"><div class="ttname"><a href="class_c_particle_effect_binding.html#a4651f0205e5633f006a5e850ce35e0be">CParticleEffectBinding::GetAutoApplyLocalTransform</a></div><div class="ttdeci">int GetAutoApplyLocalTransform() const</div><div class="ttdef"><b>Definition:</b> particlemgr.h:439</div></div>
<div class="ttc" id="class_c_new_particle_effect_html_a10bf5392f5ef75474134037a2d838951"><div class="ttname"><a href="class_c_new_particle_effect.html#a10bf5392f5ef75474134037a2d838951">CNewParticleEffect::SetNeedsBBoxUpdate</a></div><div class="ttdeci">void SetNeedsBBoxUpdate(bool bNeedsUpdate)</div><div class="ttdef"><b>Definition:</b> particles_new.h:269</div></div>
<div class="ttc" id="class_c_effect_material_html_a6c143e605a2a8543eec46fef9e34e231"><div class="ttname"><a href="class_c_effect_material.html#a6c143e605a2a8543eec46fef9e34e231">CEffectMaterial::m_pGroup</a></div><div class="ttdeci">CParticleSubTextureGroup * m_pGroup</div><div class="ttdef"><b>Definition:</b> particlemgr.h:196</div></div>
<div class="ttc" id="class_c_particle_sub_texture_group_html_a9bc29fab5d9201618ebff0f59ef68717"><div class="ttname"><a href="class_c_particle_sub_texture_group.html#a9bc29fab5d9201618ebff0f59ef68717">CParticleSubTextureGroup::~CParticleSubTextureGroup</a></div><div class="ttdeci">~CParticleSubTextureGroup()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:89</div></div>
<div class="ttc" id="class_c_particle_sub_texture_group_html"><div class="ttname"><a href="class_c_particle_sub_texture_group.html">CParticleSubTextureGroup</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:203</div></div>
<div class="ttc" id="struct_standard_particle__t_html_a0db63c8c9acc43a1311eed8d394fad87"><div class="ttname"><a href="struct_standard_particle__t.html#a0db63c8c9acc43a1311eed8d394fad87">StandardParticle_t::m_Color</a></div><div class="ttdeci">unsigned char m_Color[4]</div><div class="ttdef"><b>Definition:</b> particlemgr.h:845</div></div>
<div class="ttc" id="particlemgr_8h_html_a0577bbe3f12f6013a33b7999842e5b5c"><div class="ttname"><a href="particlemgr_8h.html#a0577bbe3f12f6013a33b7999842e5b5c">ParticleMgr</a></div><div class="ttdeci">CParticleMgr * ParticleMgr()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:72</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_ac7e4b8469ac8347d7f724678a2a83c50"><div class="ttname"><a href="class_c_particle_effect_binding.html#ac7e4b8469ac8347d7f724678a2a83c50">CParticleEffectBinding::CParticleEffectBinding</a></div><div class="ttdeci">CParticleEffectBinding()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:125</div></div>
<div class="ttc" id="class_c_new_particle_effect_html_a16f53beb4865aaa31eb1ea4a9f7ceabe"><div class="ttname"><a href="class_c_new_particle_effect.html#a16f53beb4865aaa31eb1ea4a9f7ceabe">CNewParticleEffect::GetNeedsBBoxUpdate</a></div><div class="ttdeci">bool GetNeedsBBoxUpdate(void)</div><div class="ttdef"><b>Definition:</b> particles_new.h:294</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a32d18fc1c4f42f30c323e9e7f65f0271"><div class="ttname"><a href="class_c_particle_effect_binding.html#a32d18fc1c4f42f30c323e9e7f65f0271">CParticleEffectBinding::SetIsNewParticleSystem</a></div><div class="ttdeci">void SetIsNewParticleSystem(void)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:411</div></div>
<div class="ttc" id="struct_standard_particle__t_html_af1530e9a22f682d8b9e040fd878d9b90"><div class="ttname"><a href="struct_standard_particle__t.html#af1530e9a22f682d8b9e040fd878d9b90">StandardParticle_t::SetColor</a></div><div class="ttdeci">void SetColor(float r, float g, float b)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:866</div></div>
<div class="ttc" id="struct_particle_sim_list_entry__t_html_abf9f2ee9807cdc35d0988c2adc677ad0"><div class="ttname"><a href="struct_particle_sim_list_entry__t.html#abf9f2ee9807cdc35d0988c2adc677ad0">ParticleSimListEntry_t::m_pNewParticleEffect</a></div><div class="ttdeci">CNewParticleEffect * m_pNewParticleEffect</div><div class="ttdef"><b>Definition:</b> particlemgr.h:242</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_ab862c00e403f482fdb89ee0dc0cf6544"><div class="ttname"><a href="class_c_particle_effect_binding.html#ab862c00e403f482fdb89ee0dc0cf6544">CParticleEffectBinding::GetRenderBounds</a></div><div class="ttdeci">virtual void GetRenderBounds(Vector &amp;mins, Vector &amp;maxs)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:202</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a023b1d609a5655311acea15344e64d24"><div class="ttname"><a href="class_c_particle_effect_binding.html#a023b1d609a5655311acea15344e64d24">CParticleEffectBinding::SetAutoApplyLocalTransform</a></div><div class="ttdeci">void SetAutoApplyLocalTransform(int b)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:440</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a3e97fdf3f06e0fa4b6ac650eef112243"><div class="ttname"><a href="class_c_particle_mgr.html#a3e97fdf3f06e0fa4b6ac650eef112243">CParticleMgr::RegisterEffect</a></div><div class="ttdeci">void RegisterEffect(const char *pEffectType, CreateParticleEffectFN func)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1233</div></div>
<div class="ttc" id="class_c_new_particle_effect_html_ad6f5d68a8c55f0d3f948617ea2c9a15d"><div class="ttname"><a href="class_c_new_particle_effect.html#ad6f5d68a8c55f0d3f948617ea2c9a15d">CNewParticleEffect::GetFirstFrameFlag</a></div><div class="ttdeci">bool GetFirstFrameFlag(void)</div><div class="ttdef"><b>Definition:</b> particles_new.h:289</div></div>
<div class="ttc" id="class_c_effect_material_html_a58063e7d646a1e243cf08fbf7c0316f0"><div class="ttname"><a href="class_c_effect_material.html#a58063e7d646a1e243cf08fbf7c0316f0">CEffectMaterial::m_Particles</a></div><div class="ttdeci">Particle m_Particles</div><div class="ttdef"><b>Definition:</b> particlemgr.h:198</div></div>
<div class="ttc" id="particle__iterators_8h_html"><div class="ttname"><a href="particle__iterators_8h.html">particle_iterators.h</a></div></div>
<div class="ttc" id="class_c_particle_mgr_html_a3e58617894188b4e0d5d8bf29855b618"><div class="ttname"><a href="class_c_particle_mgr.html#a3e58617894188b4e0d5d8bf29855b618">CParticleMgr::RepairPMaterial</a></div><div class="ttdeci">void RepairPMaterial(PMaterialHandle hMaterial)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2122</div></div>
<div class="ttc" id="class_i_client_particle_listener_html_adfda5d8fb04397cd1a7fd2d4a490bdfc"><div class="ttname"><a href="class_i_client_particle_listener.html#adfda5d8fb04397cd1a7fd2d4a490bdfc">IClientParticleListener::OnParticleEffectAdded</a></div><div class="ttdeci">virtual void OnParticleEffectAdded(IParticleEffect *pEffect)=0</div></div>
<div class="ttc" id="particlemgr_8h_html_a63ccf1d456ea148a0fe619b3034f7edb"><div class="ttname"><a href="particlemgr_8h.html#a63ccf1d456ea148a0fe619b3034f7edb">InsertParticleBefore</a></div><div class="ttdeci">void InsertParticleBefore(Particle *pInsert, Particle *pNext)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:890</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_aa069d272d0eb5d20fea8de1d6106fca4"><div class="ttname"><a href="class_c_particle_effect_binding.html#aa069d272d0eb5d20fea8de1d6106fca4">CParticleEffectBinding::GetAutoUpdateBBox</a></div><div class="ttdeci">int GetAutoUpdateBBox()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:446</div></div>
<div class="ttc" id="class_c_particle_sub_texture_group_html_a088028d870dc89f0b42737843de86f8f"><div class="ttname"><a href="class_c_particle_sub_texture_group.html#a088028d870dc89f0b42737843de86f8f">CParticleSubTextureGroup::CParticleSubTextureGroup</a></div><div class="ttdeci">CParticleSubTextureGroup()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:83</div></div>
<div class="ttc" id="class_c_particle_sub_texture_html"><div class="ttname"><a href="class_c_particle_sub_texture.html">CParticleSubTexture</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:219</div></div>
<div class="ttc" id="particlemgr_8h_html_a398f23050fe7a140b4f6fbfdc953dc6e"><div class="ttname"><a href="particlemgr_8h.html#a398f23050fe7a140b4f6fbfdc953dc6e">Helper_RandomInt</a></div><div class="ttdeci">int Helper_RandomInt(int minVal, int maxVal)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2222</div></div>
<div class="ttc" id="struct_standard_particle__t_html_a8b010299b03fef985b132cf359ac5b31"><div class="ttname"><a href="struct_standard_particle__t.html#a8b010299b03fef985b132cf359ac5b31">StandardParticle_t::m_EffectData</a></div><div class="ttdeci">unsigned char m_EffectData</div><div class="ttdef"><b>Definition:</b> particlemgr.h:841</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a8786fafdb8df449c8454ce09b33ec6be"><div class="ttname"><a href="class_c_particle_mgr.html#a8786fafdb8df449c8454ce09b33ec6be">CParticleMgr::~CParticleMgr</a></div><div class="ttdeci">virtual ~CParticleMgr()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1059</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_ae208489bf8cc47ac3e67f6357c04e6d0"><div class="ttname"><a href="class_c_particle_effect_binding.html#ae208489bf8cc47ac3e67f6357c04e6d0">CParticleEffectBinding::SetDrawThruLeafSystem</a></div><div class="ttdeci">void SetDrawThruLeafSystem(int bDraw)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:714</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html"><div class="ttname"><a href="class_c_particle_effect_binding.html">CParticleEffectBinding</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:340</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a0e58e3fcd0c9bd7bedfcb3817dba301e"><div class="ttname"><a href="class_c_particle_mgr.html#a0e58e3fcd0c9bd7bedfcb3817dba301e">CParticleMgr::CParticleCollection</a></div><div class="ttdeci">friend class CParticleCollection</div><div class="ttdef"><b>Definition:</b> particlemgr.h:619</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a214f6c9ff2250f31f8e243538150217e"><div class="ttname"><a href="class_c_particle_effect_binding.html#a214f6c9ff2250f31f8e243538150217e">CParticleEffectBinding::AddParticle</a></div><div class="ttdeci">Particle * AddParticle(int sizeInBytes, PMaterialHandle pMaterial)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:495</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a1b6e85a0229ad3d19b75a9c3498d8e4f"><div class="ttname"><a href="class_c_particle_mgr.html#a1b6e85a0229ad3d19b75a9c3498d8e4f">CParticleMgr::AddEffectListener</a></div><div class="ttdeci">void AddEffectListener(IClientParticleListener *pListener)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1209</div></div>
<div class="ttc" id="particlemgr_8h_html_a4bc8dae8038c2930153987bab9190558"><div class="ttname"><a href="particlemgr_8h.html#a4bc8dae8038c2930153987bab9190558">Helper_GetFrameTime</a></div><div class="ttdeci">float Helper_GetFrameTime()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2232</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a380b69cc062602f059897df1d9c5757b"><div class="ttname"><a href="class_c_particle_mgr.html#a380b69cc062602f059897df1d9c5757b">CParticleMgr::GetDirectionalLightInfo</a></div><div class="ttdeci">void GetDirectionalLightInfo(CParticleLightInfo &amp;info) const</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2175</div></div>
<div class="ttc" id="class_c_particle_light_info_html_aa70cf942daa8a77497958e3acea7af92"><div class="ttname"><a href="class_c_particle_light_info.html#aa70cf942daa8a77497958e3acea7af92">CParticleLightInfo::m_vColor</a></div><div class="ttdeci">Vector m_vColor</div><div class="ttdef"><b>Definition:</b> particlemgr.h:604</div></div>
<div class="ttc" id="struct_standard_particle__t_html_a104b9d6e5eb51dc8d050b1ee6aac1698"><div class="ttname"><a href="struct_standard_particle__t.html#a104b9d6e5eb51dc8d050b1ee6aac1698">StandardParticle_t::m_Velocity</a></div><div class="ttdeci">Vector m_Velocity</div><div class="ttdef"><b>Definition:</b> particlemgr.h:835</div></div>
<div class="ttc" id="class_c_particle_mgr_html"><div class="ttname"><a href="class_c_particle_mgr.html">CParticleMgr</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:616</div></div>
<div class="ttc" id="class_c_particle_mgr_html_acbc16a7d13b084f5ce3261289e85b367"><div class="ttname"><a href="class_c_particle_mgr.html#acbc16a7d13b084f5ce3261289e85b367">CParticleMgr::CParticleMgr</a></div><div class="ttdeci">CParticleMgr()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1037</div></div>
<div class="ttc" id="struct_standard_particle__t_html_ad216500b06f3828851de54229f5f5fa6"><div class="ttname"><a href="struct_standard_particle__t.html#ad216500b06f3828851de54229f5f5fa6">StandardParticle_t::m_EffectDataWord</a></div><div class="ttdeci">unsigned short m_EffectDataWord</div><div class="ttdef"><b>Definition:</b> particlemgr.h:843</div></div>
<div class="ttc" id="struct_particle_html_a328489afcd259078cc786c5742db65d5"><div class="ttname"><a href="struct_particle.html#a328489afcd259078cc786c5742db65d5">Particle::m_pPrev</a></div><div class="ttdeci">Particle * m_pPrev</div><div class="ttdef"><b>Definition:</b> particlemgr.h:168</div></div>
<div class="ttc" id="particlemgr_8h_html_a1849559717666612481a7acd9570af33"><div class="ttname"><a href="particlemgr_8h.html#a1849559717666612481a7acd9570af33">CreateParticleEffectFN</a></div><div class="ttdeci">IParticleEffect *(* CreateParticleEffectFN)()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:608</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a8f1b964a30a1e5aafe222d1440e4c573"><div class="ttname"><a href="class_c_particle_mgr.html#a8f1b964a30a1e5aafe222d1440e4c573">CParticleMgr::Init</a></div><div class="ttdeci">bool Init(unsigned long nPreallocatedParticles, IMaterialSystem *pMaterial)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1068</div></div>
<div class="ttc" id="struct_particle_sim_list_entry__t_html_a82f812ec7d4924cdef1cecd1b04e9a85"><div class="ttname"><a href="struct_particle_sim_list_entry__t.html#a82f812ec7d4924cdef1cecd1b04e9a85">ParticleSimListEntry_t::m_bBoundingBoxOnly</a></div><div class="ttdeci">bool m_bBoundingBoxOnly</div><div class="ttdef"><b>Definition:</b> particlemgr.h:243</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a2aae76ef9da8196e0692fce1da33c4c5"><div class="ttname"><a href="class_c_particle_mgr.html#a2aae76ef9da8196e0692fce1da33c4c5">CParticleMgr::IncrementFrameCode</a></div><div class="ttdeci">void IncrementFrameCode()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1426</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a177eff74cb05b15ddf939a6b2e9ee71f"><div class="ttname"><a href="class_c_particle_effect_binding.html#a177eff74cb05b15ddf939a6b2e9ee71f">CParticleEffectBinding::SetEffectCameraSpace</a></div><div class="ttdeci">void SetEffectCameraSpace(int bCameraSpace)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:432</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_ab45dad5782c1a2536129d59e04172268"><div class="ttname"><a href="class_c_particle_effect_binding.html#ab45dad5782c1a2536129d59e04172268">CParticleEffectBinding::SetDrawBeforeViewModel</a></div><div class="ttdeci">void SetDrawBeforeViewModel(int bDraw)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:729</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a6d91fd873d4920581d06d876b6e09c3d"><div class="ttname"><a href="class_c_particle_effect_binding.html#a6d91fd873d4920581d06d876b6e09c3d">CParticleEffectBinding::SimulateParticles</a></div><div class="ttdeci">void SimulateParticles(float flTimeDelta)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:653</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a4497dcaa1609b8a0c9e72f82519a4989"><div class="ttname"><a href="class_c_particle_mgr.html#a4497dcaa1609b8a0c9e72f82519a4989">CParticleMgr::LevelInit</a></div><div class="ttdeci">void LevelInit()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1163</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a09a7578c8ae7db97346528b9a7764c15"><div class="ttname"><a href="class_c_particle_mgr.html#a09a7578c8ae7db97346528b9a7764c15">CParticleMgr::SetDirectionalLightInfo</a></div><div class="ttdeci">void SetDirectionalLightInfo(const CParticleLightInfo &amp;info)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2181</div></div>
<div class="ttc" id="struct_standard_particle__t_html_ac0852ab2f3fe4e227706bd4abab66cdc"><div class="ttname"><a href="struct_standard_particle__t.html#ac0852ab2f3fe4e227706bd4abab66cdc">StandardParticle_t::m_Lifetime</a></div><div class="ttdeci">float m_Lifetime</div><div class="ttdef"><b>Definition:</b> particlemgr.h:839</div></div>
<div class="ttc" id="class_c_particle_sub_texture_html_a4eada3df7c2c1f97b1f00a68f0613b74"><div class="ttname"><a href="class_c_particle_sub_texture.html#a4eada3df7c2c1f97b1f00a68f0613b74">CParticleSubTexture::CParticleSubTexture</a></div><div class="ttdeci">CParticleSubTexture()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:98</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a078771a4445adeb0db76df452ff9f8d3"><div class="ttname"><a href="class_c_particle_effect_binding.html#a078771a4445adeb0db76df452ff9f8d3">CParticleEffectBinding::DrawModel</a></div><div class="ttdeci">virtual int DrawModel(int flags)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:295</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a71b4a082b7d6e8fb2ae27992f4907cca"><div class="ttname"><a href="class_c_particle_mgr.html#a71b4a082b7d6e8fb2ae27992f4907cca">CParticleMgr::m_nStatsFramesSinceLastAlert</a></div><div class="ttdeci">int m_nStatsFramesSinceLastAlert</div><div class="ttdef"><b>Definition:</b> particlemgr.h:698</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a1307ed4e36cafdb037ab749c0fe17a54"><div class="ttname"><a href="class_c_particle_mgr.html#a1307ed4e36cafdb037ab749c0fe17a54">CParticleMgr::RemoveEffectListener</a></div><div class="ttdeci">void RemoveEffectListener(IClientParticleListener *pListener)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1218</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a375ec10506061b279912e4f2a63cd9da"><div class="ttname"><a href="class_c_particle_effect_binding.html#a375ec10506061b279912e4f2a63cd9da">CParticleEffectBinding::GetNumActiveParticles</a></div><div class="ttdeci">int GetNumActiveParticles()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:741</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_ae712db00139bc1ba853df84e3e1bf208"><div class="ttname"><a href="class_c_particle_effect_binding.html#ae712db00139bc1ba853df84e3e1bf208">CParticleEffectBinding::IsTransparent</a></div><div class="ttdeci">virtual bool IsTransparent(void)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:219</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a2af493fe91f022d3f3db55dc11fce236"><div class="ttname"><a href="class_c_particle_mgr.html#a2af493fe91f022d3f3db55dc11fce236">CParticleMgr::StatsReset</a></div><div class="ttdeci">void StatsReset()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2379</div></div>
<div class="ttc" id="class_c_particle_light_info_html"><div class="ttname"><a href="class_c_particle_light_info.html">CParticleLightInfo</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:600</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a986cf531d29245fd0c05cccb905c9675"><div class="ttname"><a href="class_c_particle_mgr.html#a986cf531d29245fd0c05cccb905c9675">CParticleMgr::RemoveAllNewEffects</a></div><div class="ttdeci">void RemoveAllNewEffects()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1367</div></div>
<div class="ttc" id="class_i_client_particle_listener_html_a20fd9053358796b1c304492504cc7a2b"><div class="ttname"><a href="class_i_client_particle_listener.html#a20fd9053358796b1c304492504cc7a2b">IClientParticleListener::OnParticleEffectRemoved</a></div><div class="ttdeci">virtual void OnParticleEffectRemoved(IParticleEffect *pEffect)=0</div></div>
<div class="ttc" id="struct_particle_html_a97ed5f43a50e994ad8ed995e89ca4b9b"><div class="ttname"><a href="struct_particle.html#a97ed5f43a50e994ad8ed995e89ca4b9b">Particle::m_pSubTexture</a></div><div class="ttdeci">CParticleSubTexture * m_pSubTexture</div><div class="ttdef"><b>Definition:</b> particlemgr.h:171</div></div>
<div class="ttc" id="class_c_particle_light_info_html_a32b723b2e2829dc4b506abe68b36ddc6"><div class="ttname"><a href="class_c_particle_light_info.html#a32b723b2e2829dc4b506abe68b36ddc6">CParticleLightInfo::m_flIntensity</a></div><div class="ttdeci">float m_flIntensity</div><div class="ttdef"><b>Definition:</b> particlemgr.h:605</div></div>
<div class="ttc" id="particlemgr_8h_html_a6da21b85c78199d14d3ad5f70549e832"><div class="ttname"><a href="particlemgr_8h.html#a6da21b85c78199d14d3ad5f70549e832">NotifyRemove</a></div><div class="ttdeci">virtual void NotifyRemove()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:287</div></div>
<div class="ttc" id="class_c_effect_material_html_a67578901103390576fdd131440a1a5c7"><div class="ttname"><a href="class_c_effect_material.html#a67578901103390576fdd131440a1a5c7">CEffectMaterial::CEffectMaterial</a></div><div class="ttdeci">CEffectMaterial()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:115</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a76be46f51350717501d63176b624caae"><div class="ttname"><a href="class_c_particle_mgr.html#a76be46f51350717501d63176b624caae">CParticleMgr::CreateEffect</a></div><div class="ttdeci">IParticleEffect * CreateEffect(const char *pEffectType)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1243</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a5e7c092b44ff7b4595fbaf6c3a765618"><div class="ttname"><a href="class_c_particle_effect_binding.html#a5e7c092b44ff7b4595fbaf6c3a765618">CParticleEffectBinding::SetParticleCullRadius</a></div><div class="ttdeci">void SetParticleCullRadius(float flMaxParticleRadius)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:170</div></div>
<div class="ttc" id="class_c_new_particle_effect_html_a00b1080c090827a5cf49ae88eacddf36"><div class="ttname"><a href="class_c_new_particle_effect.html#a00b1080c090827a5cf49ae88eacddf36">CNewParticleEffect::SetFirstFrameFlag</a></div><div class="ttdeci">void SetFirstFrameFlag(bool bFirst)</div><div class="ttdef"><b>Definition:</b> particles_new.h:259</div></div>
<div class="ttc" id="particlemgr_8h_html_a69cd1dabe58a4a97a6390c04a55965e9"><div class="ttname"><a href="particlemgr_8h.html#a69cd1dabe58a4a97a6390c04a55965e9">SimulateParticles</a></div><div class="ttdeci">virtual void SimulateParticles(CParticleSimulateIterator *pIterator)=0</div></div>
<div class="ttc" id="particlemgr_8h_html_a55465ddff94aea59329a0389c71c5ebb"><div class="ttname"><a href="particlemgr_8h.html#a55465ddff94aea59329a0389c71c5ebb">NotifyDestroyParticle</a></div><div class="ttdeci">virtual void NotifyDestroyParticle(Particle *pParticle)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:294</div></div>
<div class="ttc" id="class_c_particle_sub_texture_html_addd335519b79cdbb75bc56ee211470ec"><div class="ttname"><a href="class_c_particle_sub_texture.html#addd335519b79cdbb75bc56ee211470ec">CParticleSubTexture::m_tCoordMaxs</a></div><div class="ttdeci">float m_tCoordMaxs[2]</div><div class="ttdef"><b>Definition:</b> particlemgr.h:225</div></div>
<div class="ttc" id="class_c_particle_mgr_html_ab2aec729d8327c82b3d74c4e8f25590f"><div class="ttname"><a href="class_c_particle_mgr.html#ab2aec729d8327c82b3d74c4e8f25590f">CParticleMgr::FreeParticle</a></div><div class="ttdeci">void FreeParticle(Particle *)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1182</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a9e2407c213f478f40e70d6cda2b680fd"><div class="ttname"><a href="class_c_particle_mgr.html#a9e2407c213f478f40e70d6cda2b680fd">CParticleMgr::StatsOldParticleEffectDrawn</a></div><div class="ttdeci">void StatsOldParticleEffectDrawn(CParticleEffectBinding *pParticles)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:2317</div></div>
<div class="ttc" id="struct_particle_html"><div class="ttname"><a href="struct_particle.html">Particle</a></div><div class="ttdef"><b>Definition:</b> particlemgr.h:166</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a267cd55381f8dd68ee72d52c2338d9b5"><div class="ttname"><a href="class_c_particle_effect_binding.html#a267cd55381f8dd68ee72d52c2338d9b5">CParticleEffectBinding::~CParticleEffectBinding</a></div><div class="ttdeci">~CParticleEffectBinding()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:161</div></div>
<div class="ttc" id="particlemgr_8h_html_a882090ecb0689db136a7d1cbef3c106e"><div class="ttname"><a href="particlemgr_8h.html#a882090ecb0689db136a7d1cbef3c106e">GetParticlePosition</a></div><div class="ttdeci">virtual const Vector * GetParticlePosition(Particle *pParticle)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:303</div></div>
<div class="ttc" id="class_c_new_particle_effect_html"><div class="ttname"><a href="class_c_new_particle_effect.html">CNewParticleEffect</a></div><div class="ttdef"><b>Definition:</b> particles_new.h:26</div></div>
<div class="ttc" id="particlemgr_8h_html_ad4d67439004a8d058f0f07326cd8d7b4"><div class="ttname"><a href="particlemgr_8h.html#ad4d67439004a8d058f0f07326cd8d7b4">InsertParticleAfter</a></div><div class="ttdeci">void InsertParticleAfter(Particle *pInsert, Particle *pPrev)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:898</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_ad620e1a2a2b4519b9b776bf1dba2a141"><div class="ttname"><a href="class_c_particle_effect_binding.html#ad620e1a2a2b4519b9b776bf1dba2a141">CParticleEffectBinding::GetRenderOrigin</a></div><div class="ttdeci">virtual const Vector &amp; GetRenderOrigin(void)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:183</div></div>
<div class="ttc" id="class_c_particle_light_info_html_a96d4fd1f29b62ff8870d4e9442446f62"><div class="ttname"><a href="class_c_particle_light_info.html#a96d4fd1f29b62ff8870d4e9442446f62">CParticleLightInfo::m_vPos</a></div><div class="ttdeci">Vector m_vPos</div><div class="ttdef"><b>Definition:</b> particlemgr.h:603</div></div>
<div class="ttc" id="class_c_particle_sub_texture_html_aa553a3fede2c99c4265d2893b9e709cc"><div class="ttname"><a href="class_c_particle_sub_texture.html#aa553a3fede2c99c4265d2893b9e709cc">CParticleSubTexture::m_DefaultGroup</a></div><div class="ttdeci">CParticleSubTextureGroup m_DefaultGroup</div><div class="ttdef"><b>Definition:</b> particlemgr.h:229</div></div>
<div class="ttc" id="particlemgr_8h_html_afbebd21e58ae6c3d147011295e19e084"><div class="ttname"><a href="particlemgr_8h.html#afbebd21e58ae6c3d147011295e19e084">RenderParticles</a></div><div class="ttdeci">virtual void RenderParticles(CParticleRenderIterator *pIterator)=0</div></div>
<div class="ttc" id="class_c_particle_mgr_html_a90dadf17eb88aed3172a6c6c2d2d29e2"><div class="ttname"><a href="class_c_particle_mgr.html#a90dadf17eb88aed3172a6c6c2d2d29e2">CParticleMgr::ShouldRenderParticleSystems</a></div><div class="ttdeci">bool ShouldRenderParticleSystems() const</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:1200</div></div>
<div class="ttc" id="class_c_new_particle_effect_html_ada448c77cc9b5b40548d84ba43533a6f"><div class="ttname"><a href="class_c_new_particle_effect.html#ada448c77cc9b5b40548d84ba43533a6f">CNewParticleEffect::m_LastMax</a></div><div class="ttdeci">Vector m_LastMax</div><div class="ttdef"><b>Definition:</b> particles_new.h:157</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_ae16d5e06d218085a7b430e2bfb4dfcdc"><div class="ttname"><a href="class_c_particle_effect_binding.html#ae16d5e06d218085a7b430e2bfb4dfcdc">CParticleEffectBinding::GetAlwaysSimulate</a></div><div class="ttdeci">int GetAlwaysSimulate()</div><div class="ttdef"><b>Definition:</b> particlemgr.h:408</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a2791603d5a652043eafffd3af21bec35"><div class="ttname"><a href="class_c_particle_effect_binding.html#a2791603d5a652043eafffd3af21bec35">CParticleEffectBinding::RenderableToWorldTransform</a></div><div class="ttdeci">virtual const matrix3x4_t &amp; RenderableToWorldTransform()</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:194</div></div>
<div class="ttc" id="struct_standard_particle__t_html_aba33fb7e3f43e7351f05076a02349cb8"><div class="ttname"><a href="struct_standard_particle__t.html#aba33fb7e3f43e7351f05076a02349cb8">StandardParticle_t::SetAlpha</a></div><div class="ttdeci">void SetAlpha(float a)</div><div class="ttdef"><b>Definition:</b> particlemgr.h:873</div></div>
<div class="ttc" id="class_c_particle_effect_binding_html_a12924ee84052a18dbe03baa55f67e5e2"><div class="ttname"><a href="class_c_particle_effect_binding.html#a12924ee84052a18dbe03baa55f67e5e2">CParticleEffectBinding::EnlargeBBoxToContain</a></div><div class="ttdeci">bool EnlargeBBoxToContain(const Vector &amp;pt)</div><div class="ttdef"><b>Definition:</b> particlemgr.cpp:562</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_37c6514aeece95293041e34c0f2e0784.html">game</a></li><li class="navelem"><a class="el" href="dir_6e4de05662227adfb71964c9b362ed35.html">client</a></li><li class="navelem"><a class="el" href="particlemgr_8h.html">particlemgr.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
